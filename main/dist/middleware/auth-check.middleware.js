'use strict';const a140_0x53a1a4=a140_0xe00e;function a140_0xe00e(_0x41a740,_0x390e87){const _0x364b76=a140_0x364b();return a140_0xe00e=function(_0xe00ea1,_0x3d3a79){_0xe00ea1=_0xe00ea1-0x144;let _0x56fdbf=_0x364b76[_0xe00ea1];if(a140_0xe00e['xkiGrM']===undefined){var _0x57f49d=function(_0x1f312f){const _0x2d7fbc='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x276df2='',_0x4ef29a='';for(let _0x9fc642=0x0,_0x3d89b7,_0x2c2d3e,_0x323425=0x0;_0x2c2d3e=_0x1f312f['charAt'](_0x323425++);~_0x2c2d3e&&(_0x3d89b7=_0x9fc642%0x4?_0x3d89b7*0x40+_0x2c2d3e:_0x2c2d3e,_0x9fc642++%0x4)?_0x276df2+=String['fromCharCode'](0xff&_0x3d89b7>>(-0x2*_0x9fc642&0x6)):0x0){_0x2c2d3e=_0x2d7fbc['indexOf'](_0x2c2d3e);}for(let _0x7377c9=0x0,_0x4a67fc=_0x276df2['length'];_0x7377c9<_0x4a67fc;_0x7377c9++){_0x4ef29a+='%'+('00'+_0x276df2['charCodeAt'](_0x7377c9)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4ef29a);};a140_0xe00e['ZcRHls']=_0x57f49d,_0x41a740=arguments,a140_0xe00e['xkiGrM']=!![];}const _0x437540=_0x364b76[0x0],_0x2e011a=_0xe00ea1+_0x437540,_0x45f37a=_0x41a740[_0x2e011a];return!_0x45f37a?(_0x56fdbf=a140_0xe00e['ZcRHls'](_0x56fdbf),_0x41a740[_0x2e011a]=_0x56fdbf):_0x56fdbf=_0x45f37a,_0x56fdbf;},a140_0xe00e(_0x41a740,_0x390e87);}(function(_0x293cf3,_0x3f1107){const _0xda9af2=a140_0xe00e,_0x34c0ad=_0x293cf3();while(!![]){try{const _0x2464c2=parseInt(_0xda9af2(0x19d))/0x1*(-parseInt(_0xda9af2(0x194))/0x2)+parseInt(_0xda9af2(0x1c8))/0x3*(-parseInt(_0xda9af2(0x17d))/0x4)+parseInt(_0xda9af2(0x161))/0x5*(parseInt(_0xda9af2(0x1c2))/0x6)+-parseInt(_0xda9af2(0x1b2))/0x7*(-parseInt(_0xda9af2(0x186))/0x8)+parseInt(_0xda9af2(0x1be))/0x9*(parseInt(_0xda9af2(0x18e))/0xa)+parseInt(_0xda9af2(0x162))/0xb+-parseInt(_0xda9af2(0x155))/0xc;if(_0x2464c2===_0x3f1107)break;else _0x34c0ad['push'](_0x34c0ad['shift']());}catch(_0x511e21){_0x34c0ad['push'](_0x34c0ad['shift']());}}}(a140_0x364b,0xc4914));var __decorate=this&&this[a140_0x53a1a4(0x169)]||function(_0x127c84,_0x29687e,_0x5aa299,_0x1e7032){const _0x5c155b=a140_0x53a1a4,_0x2f337b={'OQunx':function(_0xc13b45,_0x30634c){return _0xc13b45<_0x30634c;},'ubTbz':function(_0x2c10cf,_0x3eecab){return _0x2c10cf===_0x3eecab;},'PKTdO':_0x5c155b(0x19a),'OgKrk':function(_0x3c42b7,_0x461c3a){return _0x3c42b7-_0x461c3a;},'uJdiP':function(_0x7b2644,_0x15c192){return _0x7b2644(_0x15c192);},'gNbTU':function(_0x1ddac5,_0x2fe196){return _0x1ddac5>_0x2fe196;},'UBGlI':function(_0x4e922b,_0x173f78,_0x32a684,_0x400d5e){return _0x4e922b(_0x173f78,_0x32a684,_0x400d5e);}};var _0x3d8943=arguments[_0x5c155b(0x1bd)],_0x3750b3=_0x2f337b['OQunx'](_0x3d8943,0x3)?_0x29687e:_0x1e7032===null?_0x1e7032=Object[_0x5c155b(0x14a)](_0x29687e,_0x5aa299):_0x1e7032,_0x11f5d8;if(_0x2f337b[_0x5c155b(0x1b9)](typeof Reflect,_0x2f337b[_0x5c155b(0x1ae)])&&typeof Reflect[_0x5c155b(0x156)]==='function')_0x3750b3=Reflect[_0x5c155b(0x156)](_0x127c84,_0x29687e,_0x5aa299,_0x1e7032);else{for(var _0x54e39f=_0x2f337b[_0x5c155b(0x1b8)](_0x127c84['length'],0x1);_0x54e39f>=0x0;_0x54e39f--)if(_0x11f5d8=_0x127c84[_0x54e39f])_0x3750b3=(_0x3d8943<0x3?_0x2f337b[_0x5c155b(0x1ad)](_0x11f5d8,_0x3750b3):_0x2f337b[_0x5c155b(0x189)](_0x3d8943,0x3)?_0x2f337b['UBGlI'](_0x11f5d8,_0x29687e,_0x5aa299,_0x3750b3):_0x11f5d8(_0x29687e,_0x5aa299))||_0x3750b3;}return _0x3d8943>0x3&&_0x3750b3&&Object[_0x5c155b(0x16c)](_0x29687e,_0x5aa299,_0x3750b3),_0x3750b3;},__metadata=this&&this[a140_0x53a1a4(0x199)]||function(_0x1d3846,_0x545b75){const _0x4ada8e=a140_0x53a1a4,_0x14e1af={'zswHT':function(_0xf3b8d,_0x52fdeb){return _0xf3b8d===_0x52fdeb;},'KPjXH':_0x4ada8e(0x19b)};if(_0x14e1af[_0x4ada8e(0x188)](typeof Reflect,_0x4ada8e(0x19a))&&_0x14e1af[_0x4ada8e(0x188)](typeof Reflect[_0x4ada8e(0x1a9)],_0x14e1af[_0x4ada8e(0x158)]))return Reflect[_0x4ada8e(0x1a9)](_0x1d3846,_0x545b75);},__awaiter=this&&this[a140_0x53a1a4(0x1af)]||function(_0x5c6f3d,_0x3f1cf0,_0x14c9ab,_0x482a99){const _0x33e034={'vQMDd':function(_0x24ca9d,_0x16e4af){return _0x24ca9d(_0x16e4af);},'gBJGG':function(_0xc0408c,_0x48cc6){return _0xc0408c(_0x48cc6);},'BCflx':function(_0x17d41a,_0x32d197){return _0x17d41a(_0x32d197);},'xAkUK':function(_0x167688,_0x48d380){return _0x167688(_0x48d380);},'Sboas':function(_0x8a2a6f,_0x4fea30){return _0x8a2a6f(_0x4fea30);}};function _0x47d957(_0x4ec941){return _0x4ec941 instanceof _0x14c9ab?_0x4ec941:new _0x14c9ab(function(_0x21704a){const _0x52a6cb=a140_0xe00e;_0x33e034[_0x52a6cb(0x1b1)](_0x21704a,_0x4ec941);});}return new(_0x14c9ab||(_0x14c9ab=Promise))(function(_0x1c3a87,_0x2f5483){const _0x2d16cc=a140_0xe00e,_0x1b99d8={'oqZyA':function(_0x2a0090,_0x3c7825){return _0x33e034['xAkUK'](_0x2a0090,_0x3c7825);},'yeEgP':function(_0x1f31c6,_0x58430c){return _0x1f31c6(_0x58430c);}};function _0x1925fe(_0x411e0c){const _0x50540a=a140_0xe00e;try{_0x33e034[_0x50540a(0x16e)](_0x4ad9f3,_0x482a99[_0x50540a(0x16a)](_0x411e0c));}catch(_0x4c60a5){_0x33e034[_0x50540a(0x1a4)](_0x2f5483,_0x4c60a5);}}function _0x4c6651(_0x1c418c){const _0x24326d=a140_0xe00e;try{_0x1b99d8[_0x24326d(0x197)](_0x4ad9f3,_0x482a99[_0x24326d(0x149)](_0x1c418c));}catch(_0x234d0c){_0x2f5483(_0x234d0c);}}function _0x4ad9f3(_0x2c3ace){const _0x540b3b=a140_0xe00e;_0x2c3ace['done']?_0x1b99d8[_0x540b3b(0x1c4)](_0x1c3a87,_0x2c3ace[_0x540b3b(0x175)]):_0x1b99d8[_0x540b3b(0x1c4)](_0x47d957,_0x2c3ace[_0x540b3b(0x175)])[_0x540b3b(0x1bf)](_0x1925fe,_0x4c6651);}_0x33e034['Sboas'](_0x4ad9f3,(_0x482a99=_0x482a99[_0x2d16cc(0x14d)](_0x5c6f3d,_0x3f1cf0||[]))[_0x2d16cc(0x16a)]());});};Object[a140_0x53a1a4(0x16c)](exports,a140_0x53a1a4(0x15c),{'value':!![]}),exports[a140_0x53a1a4(0x168)]=exports[a140_0x53a1a4(0x15b)]=exports[a140_0x53a1a4(0x1ba)]=void 0x0;const common_1=require(a140_0x53a1a4(0x1c3)),config_1=require('../config/config'),auth_service_1=require(a140_0x53a1a4(0x16f)),response_builder_1=require('../common/response-builder'),user_service_1=require(a140_0x53a1a4(0x1d2)),auth_controller_1=require(a140_0x53a1a4(0x14f)),server_config_service_1=require(a140_0x53a1a4(0x178)),configs_1=require(a140_0x53a1a4(0x1c1)),busgb=require(a140_0x53a1a4(0x1cc))[a140_0x53a1a4(0x1b3)],NO_AUTH_PATH=[a140_0x53a1a4(0x19c),a140_0x53a1a4(0x184),a140_0x53a1a4(0x1ac),a140_0x53a1a4(0x15f),a140_0x53a1a4(0x165),a140_0x53a1a4(0x18a),a140_0x53a1a4(0x18b),'/app/updateMsg',a140_0x53a1a4(0x187),a140_0x53a1a4(0x19f),a140_0x53a1a4(0x193),'/userCharge/payResult'];exports['ONLY_HEADER_PATH']=['/serverConfig/robotConfigs',a140_0x53a1a4(0x1bb),a140_0x53a1a4(0x1c9),a140_0x53a1a4(0x1a5),a140_0x53a1a4(0x166),a140_0x53a1a4(0x177),a140_0x53a1a4(0x1bc),a140_0x53a1a4(0x172),a140_0x53a1a4(0x170),a140_0x53a1a4(0x14e),a140_0x53a1a4(0x16d),a140_0x53a1a4(0x1d1)],exports[a140_0x53a1a4(0x15b)]=[a140_0x53a1a4(0x151),a140_0x53a1a4(0x15a),'/itemTypes/listChildrenThirdParty',a140_0x53a1a4(0x1b0),a140_0x53a1a4(0x1c5),a140_0x53a1a4(0x190),a140_0x53a1a4(0x192),a140_0x53a1a4(0x1b7),a140_0x53a1a4(0x1ab),a140_0x53a1a4(0x14c)];function a140_0x364b(){const _0xeb97ad=['qg5LC3rQCY9JB21TB24','Ewvfz1a','l2j1Es9HzgroB3jTywXuAgLYzfbHCNr5','AejHu1G','tK9Fqundrvnt','nLzxwhbYsG','l3nLCNzLCKnVBMzPzY91CgrHDgvwzwHPy2XLswrZtgLZDa','C2n1Bs5ZDg9Yzs0','q29UzMLN','yNvMzMvY','BMr4CZm','DuffrLu','C2n1Bs1ZDg9Yzs10B2TLBG','C2n1Bs1ZDg9Yzs1Zzxj2zxiTAwq','l2LUBMvYtw9Kzs91C2vYuMvXDwvZDa','lI4VBw9KDwXLCY91C2vYl3vZzxiUC2vYDMLJzq','CMvZCg9UC2vcDwLSzgvY','lNnPza','z2v0u2vYDMvYq29UzMLN','vgHPCMrqyxj0EvjVyM90vwLKq29UzMLNCW','zgvZAwDUoNbHCMfTDhLWzxm','DxnLCG','DgHYB3C','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','DxnLCLnLCNzPy2u','l3nLCNzLCKnVBMzPzY90AgLYzfbHCNr5q29UzMLNCW','yxbWBhK','l2j1Es9HBgXqBgf5zxjZtg9JyxrPB25Zq2fSBgjHy2S','lI4VBw9KDwXLCY9HDxrOl2f1DgGUy29UDhjVBgXLCG','qxv0AfnLCNzPy2u','l3vZzxiVDxnLCKnOzwnRsw5uAgLYzfbHCNr5','zMLUza','uMvZCg9UC2vtDgf0DxndB2rL','yMfZzvvYBa','mZu1oteYohnkt25qzW','zgvJB3jHDgu','vgHPCMrqyxj0EvjVyM90qxv0AenVBMzPz3m','s1bQweG','C3r4wKK','l2L0zw1uExbLCY9SAxn0vgHPCMrqyxj0Eq','t05mwv9useLsrf9qqvjuwv9irufervjFuefusa','x19LC01VzhvSzq','te9hsu4Gu1rbvfvtieLovKfmsuq','tK9Fte9hsu4','l2f1DgGVBg9NAw4','tM90iev4Axn0ifvZzxi','nZeWBwz6zhby','nJm5mZKYnLfysLLJsq','A2v5','u0nvtv9tve9srv9otW','l2f1DgHbzg1PBLn5CY9SB2DPBG','l3f1zxvLl25LEhrqzw5KAw5N','DxrMltG','qxv0AenOzwnRtwLKzgXLD2fYzq','x19KzwnVCMf0zq','BMv4Da','y29VA2LLq2zN','zgvMAw5LuhjVCgvYDhK','l2j1Es9SAxn0rgLKAvzLAgLJBgvjzhm','z0jkr0C','lI4VBw9KDwXLCY9HDxrOl2f1DgGUC2vYDMLJzq','l2j1Es9SB2nHDgLVBKv4Cg9ZzunHBgXIywnR','C2vZC2LVBG','l2j1Es9IDxLvC2vYtg9JyxrPB25dywXSyMfJAW','uw9rCxm','C2vYDMvYq29UzMLNu2vYDMLJzq','DMfSDwu','y29Kzq','l3f1zxvLl25LEhrqzw5KAw5Ntw9UAxrVCG','lI4VBw9KDwXLCY9Zzxj2zxiTy29UzMLNl3nLCNzLCI1JB25MAwCUC2vYDMLJzq','C0XXBfq','z0T6Bgm','uM9IB3qGqxv0AcbgywLSzwq','sw5Qzwn0ywjSzq','mJy0mtq3mM5MtujjEq','whrrvhq','qvztuLq','zNjVBq','C2n1Bs1ZDg9Yzs1ZzwnYzxqTA2v5','C2n1BuXVzW','wNf3Dgi','l2f1DgGVy2HLy2TwywXPza','u2vYDMvYq29UzMLNu2vYDMLJzq','mZiXmJG4Cxn6rg5d','l2fWCc9YzwzYzxnOtg9JywW','ENn3sfq','z05Ivfu','l3vZzxiVywrK','l2fWCc9NzxrdC3jMvg9Rzw4','AgvHzgvY','vxnLCLnLCNzPy2u','mJbkBeroAxe','CgfYC2u','l2j1Es9HzgrnDwX0AvrOAxjKugfYDhK','tKvfrcbutYbmt0DjtG','l2j1Es9HzgrxzwXJB21LugfJA1rOAxjKugfYDhK','l2fWCc9YzwzYzxnOq29UzMLNCW','mtbLAuTNuhq','Du5SuKy','y29VA2LL','B3fAEue','yvngA1i','x19TzxrHzgf0yq','B2jQzwn0','zNvUy3rPB24','l3nLCNzLCKnVBMzPzY9Zzxj2zxjgAxjZDfrPChm','mJmYndG3D3n3uxnP','ANnVBG','l2fWCc9YzwzYzxnOrNrW','z2v0vxnLCKj5q29UzMLNCW','uuvlAKW','DxnL','BwrQmG','qKnMBhG','l3nLCNzLCKnVBMzPzY9ZywzLwM9Uzvb1CMnOyxnLuM9IB3rdB25MAwDZ','z2v0q29UzG','qKjPCxq','ugnjs3e','Bwv0ywrHDge','u0nvtv9tve9srv9bufbFsuq','l2j1Es9HzgreB2XSyxjbzgruAgLYzfbHCNr5','l2f1DgHbzg1PBLn5CY9JAgvJA1zHBgLK','DuPKAva','ueTuze8','x19HD2fPDgvY','l2L0zw0VBgLZDfrOAxjKugfYDhK','DLfnrgq','nZDzvuzZthe','qNvMzMvY','tvrur1K','zgvZDhjVEq','sKDuELu','l2j1Es9HzgriB3rqB2LUDfrLBgvWB3j0vgHPCMrqyxj0Eq','t2DlCMS','DwjuyNO','t05mwv9irufervjFuefusa','l3nLCNzLCKnVBMzPzY9Zzxj2zxjtDgf0DxnsB2jVDa','l3f1zxvLl3vWzgf0zvf1zxvLsxrLBq','BgvUz3rO','ndK3nJCZouP1ELbiBG','DgHLBG','Dg9tDhjPBMC','lI4VDxrPBhmVy29UzMLNCW','nJe1mtHyvvfIC2y'];a140_0x364b=function(){return _0xeb97ad;};return a140_0x364b();}let AuthCheckMiddleware=class AuthCheckMiddleware{constructor(_0x27432d,_0x1157cc,_0x4ecf32){const _0x1f750d=a140_0x53a1a4;this['authService']=_0x27432d,this[_0x1f750d(0x14b)]=_0x1157cc,this[_0x1f750d(0x174)]=_0x4ecf32;}[a140_0x53a1a4(0x1a2)](_0x1def2c,_0x245f9c,_0x359f8f){const _0x3cff84=a140_0x53a1a4,_0x5a65ea={'Zqwtb':_0x3cff84(0x164),'uNlRF':_0x3cff84(0x167),'BBiqt':function(_0x3087f1,_0x5fbf4a){return _0x3087f1!==_0x5fbf4a;},'TNDTa':function(_0x50b3d0,_0x52d4af){return _0x50b3d0+_0x52d4af;},'AyTaX':function(_0x516f0c,_0x5c3588){return _0x516f0c!==_0x5c3588;},'PcIKq':_0x3cff84(0x1d0),'stxZI':_0x3cff84(0x181),'gKzlc':_0x3cff84(0x1aa),'DacXp':'SCUM_STORE_SECRET_KEY','cNRWR':function(_0x5307d6,_0xbde333){return _0x5307d6!==_0xbde333;},'uAEFU':_0x3cff84(0x17b),'sLqlT':function(_0x4ed27b,_0x535872){return _0x4ed27b!==_0x535872;},'sFZwP':_0x3cff84(0x1cf),'RSOsQ':_0x3cff84(0x146),'aSFkR':function(_0x5de08a,_0x555208){return _0x5de08a===_0x555208;},'XtQTt':function(_0x1c2fdb,_0x3541ca){return _0x1c2fdb===_0x3541ca;},'QoQqs':'Token\x20Auth\x20Failed','QEKjL':_0x3cff84(0x160),'rGMBF':function(_0x20f17b){return _0x20f17b();},'AVSRT':function(_0x23e10f,_0x20c59d){return _0x23e10f>=_0x20c59d;},'MTTGY':function(_0x24cb19){return _0x24cb19();}};return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2983dd=_0x3cff84,_0x249f84={'JGTzU':_0x5a65ea[_0x2983dd(0x183)],'hBaSX':_0x2983dd(0x15d)};if(this['realScum']===undefined){const _0x53bd62=yield this[_0x2983dd(0x174)]['getServerConfig']({'name':busgb[_0x2983dd(0x180)](configs_1[_0x2983dd(0x182)],configs_1[_0x2983dd(0x176)])[_0x2983dd(0x1c0)](_0x5a65ea[_0x2983dd(0x195)])});this['realScum']=_0x53bd62&&_0x53bd62['id']?JSON['parse'](_0x53bd62[_0x2983dd(0x175)])['value']:null;}if(_0x5a65ea[_0x2983dd(0x1a7)](this['realScum'],![]))return _0x245f9c[_0x2983dd(0x19e)]((0x0,response_builder_1['responseBuilder'])(response_builder_1[_0x2983dd(0x153)]['DEFINED_PERMISSION'],{},_0x5a65ea['TNDTa'](busgb[_0x2983dd(0x180)](busgb[_0x2983dd(0x180)](configs_1['cpd1'],configs_1['code'])['toString'](_0x5a65ea[_0x2983dd(0x195)]),configs_1[_0x2983dd(0x176)])[_0x2983dd(0x1c0)](_0x2983dd(0x167))+busgb[_0x2983dd(0x180)](busgb[_0x2983dd(0x180)](busgb['from'](busgb[_0x2983dd(0x180)](configs_1[_0x2983dd(0x1cd)],configs_1[_0x2983dd(0x176)])[_0x2983dd(0x1c0)](_0x5a65ea[_0x2983dd(0x195)]),configs_1['code'])[_0x2983dd(0x1c0)](_0x5a65ea['uNlRF']),configs_1[_0x2983dd(0x176)])['toString'](_0x5a65ea['uNlRF']),configs_1[_0x2983dd(0x176)])[_0x2983dd(0x1c0)](_0x2983dd(0x167)),busgb[_0x2983dd(0x180)](busgb[_0x2983dd(0x180)](busgb[_0x2983dd(0x180)](configs_1[_0x2983dd(0x1a3)],configs_1[_0x2983dd(0x176)])[_0x2983dd(0x1c0)](_0x5a65ea[_0x2983dd(0x195)]),configs_1[_0x2983dd(0x176)])['toString'](_0x2983dd(0x167)),configs_1['code'])[_0x2983dd(0x1c0)](_0x2983dd(0x167)))));if(_0x5a65ea['AyTaX'](NO_AUTH_PATH[_0x2983dd(0x152)](_0x528feb=>_0x528feb===_0x1def2c[_0x2983dd(0x154)]),undefined))return _0x359f8f();else{if(exports[_0x2983dd(0x1ba)][_0x2983dd(0x152)](_0x97e82e=>_0x97e82e===_0x1def2c[_0x2983dd(0x154)])!==undefined){const _0x219ec9=_0x1def2c[_0x2983dd(0x18c)](_0x5a65ea[_0x2983dd(0x1a8)]),_0x30d128=_0x1def2c[_0x2983dd(0x18c)](_0x5a65ea[_0x2983dd(0x159)]),_0x126db8=config_1[_0x2983dd(0x1cb)][_0x2983dd(0x1a6)](_0x5a65ea[_0x2983dd(0x17a)]),_0x24fc18=config_1[_0x2983dd(0x1cb)][_0x2983dd(0x1a6)](_0x5a65ea['DacXp']);if(_0x5a65ea[_0x2983dd(0x1a7)](_0x219ec9,_0x126db8)||_0x5a65ea['cNRWR'](_0x30d128,_0x24fc18))return _0x245f9c['json']((0x0,response_builder_1[_0x2983dd(0x1d3)])(response_builder_1['ResponseStatusCode']['NO_ACCESS'],{},_0x5a65ea[_0x2983dd(0x1ce)]));return _0x359f8f();}else{if(_0x5a65ea[_0x2983dd(0x179)](exports[_0x2983dd(0x15b)][_0x2983dd(0x152)](_0x239467=>_0x239467===_0x1def2c[_0x2983dd(0x154)]),undefined)){const _0x47ce92=_0x1def2c[_0x2983dd(0x18c)](_0x5a65ea['sFZwP']),_0x27df22={},[_0x47eb26,_0x2c0582]=yield Promise['all']([this['serverConfigService'][_0x2983dd(0x145)]({'name':_0x2983dd(0x157)}),this[_0x2983dd(0x174)]['getServerConfig']({'name':_0x5a65ea['RSOsQ']})]),_0x355204=_0x47eb26&&_0x47eb26['id']?JSON[_0x2983dd(0x18f)](_0x47eb26[_0x2983dd(0x175)])[_0x2983dd(0x175)]:{},_0x108f09=_0x2c0582&&_0x2c0582['id']?JSON[_0x2983dd(0x18f)](_0x2c0582[_0x2983dd(0x175)])[_0x2983dd(0x175)]:{};for(let _0x2ba269 of _0x108f09){_0x27df22[_0x2ba269[_0x2983dd(0x163)]]=_0x1def2c[_0x2983dd(0x18c)]('scum-store-uid-'+_0x2ba269['key']);}const _0x3a7488=yield this[_0x2983dd(0x14b)][_0x2983dd(0x1a0)](_0x27df22);if(!((_0x355204===null||_0x5a65ea[_0x2983dd(0x198)](_0x355204,void 0x0)?void 0x0:_0x355204[_0x2983dd(0x1bd)])&&(_0x5a65ea[_0x2983dd(0x198)](_0x47ce92,null)||_0x5a65ea[_0x2983dd(0x17e)](_0x47ce92,void 0x0)?void 0x0:_0x47ce92[_0x2983dd(0x1bd)])&&_0x5a65ea['XtQTt'](_0x355204,_0x47ce92)))return _0x245f9c[_0x2983dd(0x19e)]((0x0,response_builder_1[_0x2983dd(0x1d3)])(response_builder_1[_0x2983dd(0x153)]['NO_ACCESS'],{},_0x5a65ea[_0x2983dd(0x173)]));if(!(_0x3a7488&&_0x3a7488['id']))return _0x245f9c[_0x2983dd(0x19e)]((0x0,response_builder_1[_0x2983dd(0x1d3)])(response_builder_1[_0x2983dd(0x153)][_0x2983dd(0x1c7)],{},_0x5a65ea[_0x2983dd(0x1a1)]));return _0x1def2c['thirdPartyUserId']=_0x3a7488['id'],_0x5a65ea['rGMBF'](_0x359f8f);}else{if(!_0x1def2c[_0x2983dd(0x171)]||!_0x1def2c[_0x2983dd(0x171)]['user']||!_0x5a65ea[_0x2983dd(0x17f)](_0x1def2c[_0x2983dd(0x171)][_0x2983dd(0x148)]['userId'],0x0))_0x1def2c[_0x2983dd(0x171)][_0x2983dd(0x1b5)](()=>{const _0x5e100b=_0x2983dd;return _0x245f9c[_0x5e100b(0x196)](_0x5e100b(0x1ca)+config_1[_0x5e100b(0x1cb)][_0x5e100b(0x1a6)](_0x5a65ea[_0x5e100b(0x183)])+_0x5e100b(0x144),'',auth_controller_1['cookieCfg']),_0x245f9c[_0x5e100b(0x19e)]((0x0,response_builder_1['responseBuilder'])(response_builder_1[_0x5e100b(0x153)][_0x5e100b(0x15e)],{},_0x5e100b(0x191)));});else{let {userId:_0x1c9ac1,steamId:_0x5124be}=_0x1def2c[_0x2983dd(0x171)][_0x2983dd(0x148)];const _0x48ad07=yield this[_0x2983dd(0x14b)]['getUser']({'userId':_0x1c9ac1,'steamId':_0x5124be});if(_0x48ad07&&_0x5a65ea[_0x2983dd(0x17f)](_0x48ad07['id'],0x0))return _0x5a65ea[_0x2983dd(0x1b4)](_0x359f8f);else _0x1def2c['session'][_0x2983dd(0x1b5)](()=>{const _0x3ef268=_0x2983dd;return _0x245f9c[_0x3ef268(0x196)](_0x3ef268(0x1ca)+config_1[_0x3ef268(0x1cb)][_0x3ef268(0x1a6)](_0x249f84[_0x3ef268(0x1b6)])+_0x3ef268(0x144),'',auth_controller_1[_0x3ef268(0x16b)]),_0x245f9c['json']((0x0,response_builder_1[_0x3ef268(0x1d3)])(response_builder_1[_0x3ef268(0x153)]['NO_LOGIN'],{},_0x249f84[_0x3ef268(0x1c6)]));});}}}}});}};AuthCheckMiddleware=__decorate([(0x0,common_1[a140_0x53a1a4(0x17c)])(),__metadata(a140_0x53a1a4(0x147),[auth_service_1[a140_0x53a1a4(0x150)],user_service_1[a140_0x53a1a4(0x18d)],server_config_service_1[a140_0x53a1a4(0x185)]])],AuthCheckMiddleware),exports[a140_0x53a1a4(0x168)]=AuthCheckMiddleware;