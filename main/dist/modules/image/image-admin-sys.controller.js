'use strict';const a189_0x25dd48=a189_0x39a9;(function(_0x339c2f,_0x510bd0){const _0x4cf574=a189_0x39a9,_0x4e1c2a=_0x339c2f();while(!![]){try{const _0x2d4a8f=-parseInt(_0x4cf574(0x183))/0x1*(parseInt(_0x4cf574(0x18a))/0x2)+-parseInt(_0x4cf574(0x16b))/0x3*(parseInt(_0x4cf574(0x15d))/0x4)+parseInt(_0x4cf574(0x143))/0x5+parseInt(_0x4cf574(0x12f))/0x6+-parseInt(_0x4cf574(0x12e))/0x7+parseInt(_0x4cf574(0x160))/0x8*(parseInt(_0x4cf574(0x134))/0x9)+-parseInt(_0x4cf574(0xf4))/0xa*(parseInt(_0x4cf574(0x151))/0xb);if(_0x2d4a8f===_0x510bd0)break;else _0x4e1c2a['push'](_0x4e1c2a['shift']());}catch(_0xba649d){_0x4e1c2a['push'](_0x4e1c2a['shift']());}}}(a189_0x3104,0x2ada4));function a189_0x3104(){const _0x3365d4=['BhnsC0K','yxHPB3m','D2jtvhG','DfLQv3O','qwrTAw5tExnhDwfYza','lI4VlI4VzgvJB3jHDg9Yl3vZzxiUzgvJB3jHDg9Y','B05JtMe','qLzIBgq','mtfzqLjMAwS','r0vu','zwH2re4','zNjVBq','BwLTzxr5Cgu','u0T6r2u','sw1Hz2vtzxj2AwnL','s1z2CeO','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','zLLXDxC','6z2E5Rov5PAh5lU2','5lIk5lYG5zU+54MhkowoN+AwH+s7TUwqJtO','mZm4odHdyuH4rwC','vxbSB2fKzwrgAwXL','BMv4Da','ogfkqwX6qW','x19KzwnVCMf0zq','B1nVqvq','ChjVDg90ExbL','lI4VywrTAw4TCMvJB3jKl2fKBwLUlxjLy29Yzc5Zzxj2AwnL','ChHiD3C','DxnLCKLK','C3bSAxq','ug9ZDa','ios/NEwTMoAwH+s7TLvstdOG','qLLsrLe','m3rSrLPzra','qwrTAw5szwnVCMrtzxj2AwnL','Ahr0Chm','zMLSzq','q0zLBwO','CuLgr28','Aw1Hz2uVEc1WBMC','zgvZAwDUoNjLDhvYBNr5Cgu','Bwv0ywrHDge','z1Pns3K','6k+35lIk5lYG5zU+54Mh','uMzRr2i','wwnqqM0','uhnAr0O','q3vZDLe','DK1oEwO','uMvZCg9UC2vtDgf0DxndB2rL','s3L0Evq','l2LTywDLvxbSB2fKvxjS','lI4VlI4VzhrVl2LTywDLlwfKBwLUlxn5CW','C2f2zufKBwLUuMvJB3jK','sw1Hz2vvCgXVywrvCMXtExneDg8','rfzKEfq','uNnrsgW','mNjdwM1gtW','BwLTzvr5Cgu','zgrivfO','u1rIsxa','5lIl6l295PAh5lU25yE66zszoIa','lI9PBwfNzs5Zzxj2AwnL','Dg9tDhjPBMC','mtu4otC0BujWy0vA','uwz4Avq','zgf0yq','C3rHDhvZ','suzxCMu','Chvly2G','z2vxt3K','l2LTywDLqwrTAw5tExm','DxbSB2fKvg9zDwfUEgLUq2XVDwq','CMvZCg9UC2vcDwLSzgvY','zgvMyxvSDa','twXhswe','mtGYmtiZmg9KANP4AG','Dw5RBM93BG','BM93','ANbN','x19HD2fPDgvY','zgvJB3jHDgu','rKzQwwG','BNrpEhe','u2vZC1vZzxi','Aw1Hz2uV','zMLUza','Aw1Hz2vvCgXVywq','EwTtrKS','x19WyxjHBq','BgvUz3rO','DxjS','q3jIs0K','B3jPz2LUywXUyw1L','C3rHCNrZv2L0Aa','rLjhwgy','r3P3Ahy','z0zVCNO','v2neENa','Aw1Hz2uVANbLzW','EgnQtKC','5lIk5lYG5zU+54MhkowoN+AwH+s7TLvstdO','vxnLsw50zxjJzxb0B3jZ','uxblvNC','Aw1Hz2uVCg5N','CgLWzq','lI4VlI4Vz3vHCMqVywrTAw4TC3LZlwfJy2vZCY5NDwfYza','v2zrsey','ywrTAw5szwnVCMrtzxj2AwnL','lI4VlI4Vy29TBw9Ul3jLC3bVBNnLlwj1AwXKzxi','vg11u1i','Cg5N','odK1mdrLndC','l2LTywDLvxbSB2fK','Aw1Hz2vtzxj2AwnL','sw1Hz2vbzg1PBLn5C0nVBNrYB2XSzxi','tg9zseS','Aw1Hz2vvCgXVywrvCMW','sLnct0W','ANnVBG','lI4VlI4Vy29TBw9Ul21VCMDHBI1SB2C','zgvZAwDUoNr5Cgu','sLbOsKS','EKLAEu4','lI4VlI4VzhrVl3nLC3nPB24TDxnLCG','qwDLBNq','x19LC01VzhvSzq','ndC0otq2mZG','ufLorLK','svPSwum','y1DiyMG','zNvUy3rPB24','DgHLBG','Bg9NqNvZC2LUzxnZ','mtmXnty2ng1WC1bhqq','mtq5otGZogrzv1zXDG','qg5LC3rQCY9WBgf0zM9YBs1LEhbYzxnZ','B2jQzwn0','C2XPy2u','A2jyvxG','mJG2ndeXnu1KwgzuCq','qg5LC3rQCY9JB21TB24','qM9KEq','DNn0Avm','z2v0rMLSzu1PBwvuExbL','zgvZAwDUoNbHCMfTDhLWzxm','u2vZC2LVBLvZzxi','su5urvjoquXFrvjst1i','B3nqwxm','yNvMzMvY','yNLmugu','Agv4','AuL4z3y','qvvAAgO','y29Uy2f0','nZi0mtG1r2Xxsvr2','zgvMAw5LuhjVCgvYDhK','vxnLr3vHCMrZ','z2LM','Aw1Hz2uVCgPWzwC','rgLktKS'];a189_0x3104=function(){return _0x3365d4;};return a189_0x3104();}var __decorate=this&&this[a189_0x25dd48(0x161)]||function(_0x6f4780,_0x22d42b,_0xa7ff9,_0x508440){const _0x2cba8d=a189_0x25dd48,_0x4ea42e={'Gzwhv':function(_0x3f5be0,_0x4e4087){return _0x3f5be0<_0x4e4087;},'fYquw':function(_0x4b528e,_0x33ab04){return _0x4b528e===_0x33ab04;},'NFjMD':_0x2cba8d(0x131),'puKch':_0x2cba8d(0x12b),'zIZyN':function(_0x234dd1,_0x4d8b2c){return _0x234dd1-_0x4d8b2c;},'IFWre':function(_0x42a35f,_0x4b034c){return _0x42a35f>=_0x4b034c;},'IZlYC':function(_0x4735ad,_0x4f5fd1){return _0x4735ad>_0x4f5fd1;},'osPYs':function(_0x3d00ee,_0x1adab7,_0x2b0dab){return _0x3d00ee(_0x1adab7,_0x2b0dab);},'oNcNa':function(_0x22daa7,_0x41d616){return _0x22daa7>_0x41d616;}};var _0x3b2997=arguments[_0x2cba8d(0x102)],_0xca523=_0x4ea42e['Gzwhv'](_0x3b2997,0x3)?_0x22d42b:_0x4ea42e['fYquw'](_0x508440,null)?_0x508440=Object[_0x2cba8d(0x159)](_0x22d42b,_0xa7ff9):_0x508440,_0xb5c72d;if(_0x4ea42e[_0x2cba8d(0x15a)](typeof Reflect,_0x4ea42e['NFjMD'])&&typeof Reflect[_0x2cba8d(0xf9)]===_0x4ea42e[_0x2cba8d(0x18f)])_0xca523=Reflect['decorate'](_0x6f4780,_0x22d42b,_0xa7ff9,_0x508440);else{for(var _0x3872d6=_0x4ea42e[_0x2cba8d(0x123)](_0x6f4780['length'],0x1);_0x4ea42e[_0x2cba8d(0x18e)](_0x3872d6,0x0);_0x3872d6--)if(_0xb5c72d=_0x6f4780[_0x3872d6])_0xca523=(_0x4ea42e[_0x2cba8d(0x108)](_0x3b2997,0x3)?_0xb5c72d(_0xca523):_0x4ea42e[_0x2cba8d(0x129)](_0x3b2997,0x3)?_0xb5c72d(_0x22d42b,_0xa7ff9,_0xca523):_0x4ea42e[_0x2cba8d(0x13c)](_0xb5c72d,_0x22d42b,_0xa7ff9))||_0xca523;}return _0x4ea42e[_0x2cba8d(0x14f)](_0x3b2997,0x3)&&_0xca523&&Object[_0x2cba8d(0x144)](_0x22d42b,_0xa7ff9,_0xca523),_0xca523;},__metadata=this&&this['__metadata']||function(_0x4863cc,_0x41ed6d){const _0x1f6048=a189_0x25dd48,_0x510f2e={'ykSFK':function(_0x3c04f8,_0x22249a){return _0x3c04f8===_0x22249a;},'byLPe':_0x1f6048(0x12b)};if(typeof Reflect===_0x1f6048(0x131)&&_0x510f2e[_0x1f6048(0x100)](typeof Reflect[_0x1f6048(0x173)],_0x510f2e[_0x1f6048(0x13e)]))return Reflect[_0x1f6048(0x173)](_0x4863cc,_0x41ed6d);},__param=this&&this[a189_0x25dd48(0x101)]||function(_0x5dba2b,_0x3afa31){return function(_0x1deb52,_0x5811e7){_0x3afa31(_0x1deb52,_0x5811e7,_0x5dba2b);};},__awaiter=this&&this[a189_0x25dd48(0xf8)]||function(_0x4422f1,_0x4b9909,_0x174edd,_0x15cf5b){const _0x3da189={'kbXUx':function(_0x164395,_0x559794){return _0x164395 instanceof _0x559794;},'YcPBm':function(_0xc511b0,_0x3fd4bf){return _0xc511b0(_0x3fd4bf);},'qIFGo':function(_0x56b06e,_0x4e329b){return _0x56b06e(_0x4e329b);},'vstiS':'throw'};function _0x5b2ff1(_0x1bca31){const _0x27b21e=a189_0x39a9;return _0x3da189[_0x27b21e(0x133)](_0x1bca31,_0x174edd)?_0x1bca31:new _0x174edd(function(_0x519973){_0x519973(_0x1bca31);});}return new(_0x174edd||(_0x174edd=Promise))(function(_0x4f4402,_0x15cdff){const _0x297f0d=a189_0x39a9,_0x6a9b13={'CFemj':function(_0x188068,_0x154aac){const _0xec8184=a189_0x39a9;return _0x3da189[_0xec8184(0x177)](_0x188068,_0x154aac);},'iIxgv':function(_0x1cc48b,_0x34d361){return _0x3da189['qIFGo'](_0x1cc48b,_0x34d361);},'ehvDN':_0x3da189[_0x297f0d(0x137)],'tYjWz':function(_0x3b37a3,_0x238101){const _0x33c22d=_0x297f0d;return _0x3da189[_0x33c22d(0x170)](_0x3b37a3,_0x238101);}};function _0x581a44(_0x21f0b1){const _0x2db668=_0x297f0d;try{_0x6a9b13[_0x2db668(0x16f)](_0x4d773a,_0x15cf5b[_0x2db668(0x15f)](_0x21f0b1));}catch(_0x441f80){_0x6a9b13[_0x2db668(0x140)](_0x15cdff,_0x441f80);}}function _0x25fb1d(_0x5dc65b){const _0x140c79=_0x297f0d;try{_0x4d773a(_0x15cf5b[_0x6a9b13[_0x140c79(0x153)]](_0x5dc65b));}catch(_0x2957a3){_0x15cdff(_0x2957a3);}}function _0x4d773a(_0xc08271){const _0x44c4d1=_0x297f0d;_0xc08271['done']?_0x6a9b13[_0x44c4d1(0x14c)](_0x4f4402,_0xc08271['value']):_0x6a9b13[_0x44c4d1(0x16f)](_0x5b2ff1,_0xc08271['value'])[_0x44c4d1(0x12c)](_0x581a44,_0x25fb1d);}_0x4d773a((_0x15cf5b=_0x15cf5b['apply'](_0x4422f1,_0x4b9909||[]))[_0x297f0d(0x15f)]());});};function a189_0x39a9(_0x271cec,_0x33d411){const _0x310492=a189_0x3104();return a189_0x39a9=function(_0x39a91a,_0x215d9a){_0x39a91a=_0x39a91a-0xf4;let _0x5be1ab=_0x310492[_0x39a91a];if(a189_0x39a9['hBvPKO']===undefined){var _0x24e761=function(_0xdbccd5){const _0x4ee618='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5a1838='',_0xa2916a='';for(let _0x50b08d=0x0,_0x4857ec,_0x146752,_0x15e85d=0x0;_0x146752=_0xdbccd5['charAt'](_0x15e85d++);~_0x146752&&(_0x4857ec=_0x50b08d%0x4?_0x4857ec*0x40+_0x146752:_0x146752,_0x50b08d++%0x4)?_0x5a1838+=String['fromCharCode'](0xff&_0x4857ec>>(-0x2*_0x50b08d&0x6)):0x0){_0x146752=_0x4ee618['indexOf'](_0x146752);}for(let _0x2d1aa6=0x0,_0x3c4825=_0x5a1838['length'];_0x2d1aa6<_0x3c4825;_0x2d1aa6++){_0xa2916a+='%'+('00'+_0x5a1838['charCodeAt'](_0x2d1aa6)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xa2916a);};a189_0x39a9['eftNvf']=_0x24e761,_0x271cec=arguments,a189_0x39a9['hBvPKO']=!![];}const _0x45e55b=_0x310492[0x0],_0x8b6236=_0x39a91a+_0x45e55b,_0x592280=_0x271cec[_0x8b6236];return!_0x592280?(_0x5be1ab=a189_0x39a9['eftNvf'](_0x5be1ab),_0x271cec[_0x8b6236]=_0x5be1ab):_0x5be1ab=_0x592280,_0x5be1ab;},a189_0x39a9(_0x271cec,_0x33d411);}Object[a189_0x25dd48(0x144)](exports,a189_0x25dd48(0x126),{'value':!![]}),exports[a189_0x25dd48(0x11b)]=void 0x0;const common_1=require(a189_0x25dd48(0x135)),platform_express_1=require(a189_0x25dd48(0x130)),image_admin_sys_1=require(a189_0x25dd48(0x17e)),session_user_1=require(a189_0x25dd48(0x124)),user_decorator_1=require(a189_0x25dd48(0x14e)),image_service_1=require(a189_0x25dd48(0x188)),response_builder_1=require(a189_0x25dd48(0x115)),admin_sys_access_guard_1=require(a189_0x25dd48(0x112)),morgan_log_1=require(a189_0x25dd48(0x120)),write_admin_sys_access_guard_1=require('../../guard/write-admin-sys-access.guard'),admin_record_service_1=require(a189_0x25dd48(0x164)),uuid_1=require('uuid'),axios_1=require(a189_0x25dd48(0x14a)),https=require(a189_0x25dd48(0x16d)),stream=require('stream'),agent=new https[(a189_0x25dd48(0x125))]({'rejectUnauthorized':![]});let ImageAdminSysController=class ImageAdminSysController{constructor(_0x5ea4d0,_0x3a67e4){const _0x200774=a189_0x25dd48;this[_0x200774(0x11a)]=_0x5ea4d0,this['adminRecordService']=_0x3a67e4;}[a189_0x25dd48(0x138)](_0x31e72d){const _0x1a0e7d=a189_0x25dd48,_0x48c826={'xcjNG':function(_0x277182,_0x10d09a){return _0x277182+_0x10d09a;},'WfQHF':function(_0x1287a4,_0x3ffc10){return _0x1287a4+_0x3ffc10;},'ddHTZ':'ffd8ffe0','pxHww':_0x1a0e7d(0xf7),'UeJqx':_0x1a0e7d(0x10b),'TmuSR':_0x1a0e7d(0x147),'UYYNU':_0x1a0e7d(0x127),'ntOxq':_0x1a0e7d(0x146),'geWOy':'image/gif','JSBOL':_0x1a0e7d(0x118),'BVbld':_0x1a0e7d(0x117),'wbSTx':_0x1a0e7d(0x110)},_0x889e2a=_0x31e72d[_0x1a0e7d(0x132)](0x0,0x4),_0x3bd468=_0x889e2a[0x0][_0x1a0e7d(0x189)](0x10),_0x4a4fd1=_0x889e2a[0x1][_0x1a0e7d(0x189)](0x10),_0x26cb5d=_0x889e2a[0x2][_0x1a0e7d(0x189)](0x10),_0x5910fa=_0x889e2a[0x3][_0x1a0e7d(0x189)](0x10),_0x3a9b42=_0x48c826[_0x1a0e7d(0x10c)](_0x48c826[_0x1a0e7d(0x113)](_0x3bd468,_0x4a4fd1)+_0x26cb5d,_0x5910fa);let _0x377ae6='',_0x15140a;switch(_0x3a9b42){case _0x48c826[_0x1a0e7d(0x185)]:_0x377ae6=_0x48c826[_0x1a0e7d(0x165)],_0x15140a=[_0x48c826['UeJqx'],_0x48c826[_0x1a0e7d(0x116)]];break;case _0x48c826['UYYNU']:_0x377ae6=_0x48c826[_0x1a0e7d(0xfb)],_0x15140a=_0x48c826[_0x1a0e7d(0x190)];break;case _0x48c826[_0x1a0e7d(0x11e)]:_0x377ae6=_0x48c826[_0x1a0e7d(0x150)],_0x15140a=[_0x48c826[_0x1a0e7d(0x14b)],_0x1a0e7d(0x171)];break;default:_0x377ae6=_0x1a0e7d(0xf5);break;}return{'fileType':_0x377ae6,'mimeType':_0x15140a};}[a189_0x25dd48(0xff)](_0x370f08,_0x51dac1,_0x3f280b,_0x44e87f){const _0x517987=a189_0x25dd48,_0x460c8a={'PsZGJ':function(_0x2053ad,_0x3ff275){return _0x2053ad===_0x3ff275;},'DVdxT':'非法文件','ZqJUQ':function(_0x1e91d7,_0x46d6f4){return _0x1e91d7>_0x46d6f4;},'CrbKI':function(_0x18731b,_0xf3b8d4){return _0x18731b!==_0xf3b8d4;},'FFjYh':function(_0x32f0f3,_0xc6dff2){return _0x32f0f3===_0xc6dff2;},'CusvQ':function(_0x1469a1,_0xcbc577){return _0x1469a1===_0xcbc577;},'oSoAT':function(_0x31f7b7,_0x1cf727){return _0x31f7b7===_0x1cf727;},'gZMKy':function(_0x189034,_0xc61c22){return _0x189034===_0xc61c22;},'STbIp':function(_0x11dbff,_0x3b8840){return _0x11dbff+_0x3b8840;},'dENzA':function(_0x2da1f1,_0x3ec656){return _0x2da1f1===_0x3ec656;},'QfxiT':function(_0x4b8635,_0x3c1b4c,_0x22f6b0,_0x2b2e1e,_0x138410){return _0x4b8635(_0x3c1b4c,_0x22f6b0,_0x2b2e1e,_0x138410);}};var _0x5112b4,_0x3402e1;return _0x460c8a[_0x517987(0x18b)](__awaiter,this,void 0x0,void 0x0,function*(){const _0xa817fd=_0x517987;try{const _0x11fedb=this[_0xa817fd(0x138)](_0x51dac1[_0xa817fd(0x13d)]);if(_0x460c8a[_0xa817fd(0x178)](_0x11fedb[_0xa817fd(0x184)],undefined)||_0x11fedb[_0xa817fd(0x184)][_0xa817fd(0xfe)](_0x34cf55=>_0x34cf55[_0xa817fd(0x106)](_0xa817fd(0xfd))===![])!==undefined)return _0x44e87f[_0xa817fd(0x18d)](0x1f4),_0x44e87f[_0xa817fd(0x11f)]((0x0,response_builder_1[_0xa817fd(0x193)])(response_builder_1[_0xa817fd(0x17b)][_0xa817fd(0x13b)],null,_0x460c8a[_0xa817fd(0x181)]));const _0x564a29=_0x51dac1[_0xa817fd(0x105)],_0xa4f2a0=_0x564a29[_0xa817fd(0x167)]('.'),_0x4e290e=_0x460c8a['ZqJUQ'](_0xa4f2a0[_0xa817fd(0x102)],0x1)?_0xa4f2a0[_0xa4f2a0[_0xa817fd(0x102)]-0x1]:null,_0x140503=Date[_0xa817fd(0xf6)]()+'-'+(0x0,uuid_1['v4'])()+(_0x460c8a[_0xa817fd(0x178)](_0x4e290e,null)?'':'.'+_0x4e290e),_0x1c673b=yield this[_0xa817fd(0x11a)][_0xa817fd(0x192)]({'buffer':_0x51dac1[_0xa817fd(0x13d)],'filename':_0x140503,'mimetype':_0x51dac1[_0xa817fd(0x155)]});if(_0x460c8a[_0xa817fd(0x104)](_0x460c8a[_0xa817fd(0x178)](_0x1c673b,null)||_0x460c8a['PsZGJ'](_0x1c673b,void 0x0)?void 0x0:_0x1c673b[_0xa817fd(0x18d)],0xc8))throw(_0x460c8a['PsZGJ'](_0x1c673b,null)||_0x460c8a[_0xa817fd(0x178)](_0x1c673b,void 0x0)?void 0x0:_0x1c673b['data'])||(_0x460c8a[_0xa817fd(0x178)](_0x1c673b,null)||_0x460c8a[_0xa817fd(0xfa)](_0x1c673b,void 0x0)?void 0x0:_0x1c673b['status']);return yield this[_0xa817fd(0x114)]['saveAdminRecord'](_0x370f08[_0xa817fd(0x166)],'附件',_0xa817fd(0x15c)+_0x51dac1[_0xa817fd(0x105)]+_0xa817fd(0x169)+(_0x460c8a[_0xa817fd(0x179)](_0x3402e1=_0x460c8a[_0xa817fd(0x162)](_0x5112b4=_0x460c8a['PsZGJ'](_0x1c673b,null)||_0x460c8a[_0xa817fd(0xfa)](_0x1c673b,void 0x0)?void 0x0:_0x1c673b[_0xa817fd(0x18c)],null)||_0x5112b4===void 0x0?void 0x0:_0x5112b4[_0xa817fd(0x18c)],null)||_0x460c8a[_0xa817fd(0x174)](_0x3402e1,void 0x0)?void 0x0:_0x3402e1[_0xa817fd(0x103)])+')',_0x460c8a[_0xa817fd(0x186)](Date[_0xa817fd(0xf6)](),'')),_0x44e87f[_0xa817fd(0x11f)]((0x0,response_builder_1[_0xa817fd(0x193)])(response_builder_1[_0xa817fd(0x17b)]['OK'],_0x1c673b===null||_0x460c8a['dENzA'](_0x1c673b,void 0x0)?void 0x0:_0x1c673b['data'],''));}catch(_0x2ca7ed){return(0x0,morgan_log_1[_0xa817fd(0x12d)])(_0x2ca7ed),_0x44e87f[_0xa817fd(0x11f)]((0x0,response_builder_1[_0xa817fd(0x193)])(response_builder_1[_0xa817fd(0x17b)]['INTERNAL_ERROR'],{},_0x2ca7ed['toString']()));}});}[a189_0x25dd48(0x11d)](_0x120f20,_0x583ed5,_0x5d3d38,_0x4a206a){const _0x4d2667=a189_0x25dd48,_0x22189d={'vMNyj':_0x4d2667(0x13f),'SKzGe':_0x4d2667(0x152),'KytyT':'stream','cWHbh':_0x4d2667(0x18c),'JPhJK':'end','eFSYl':function(_0x25bfce,_0x101af2){return _0x25bfce(_0x101af2);},'RfkGb':function(_0x1e47aa,_0x529ef7){return _0x1e47aa===_0x529ef7;},'BYRFQ':function(_0x23011a,_0xc084c3){return _0x23011a!==_0xc084c3;},'AUZhj':'image/png','PYNFY':function(_0x5d5d37,_0x56ee86){return _0x5d5d37===_0x56ee86;},'DiJNK':function(_0x5b16cb,_0x20a85f){return _0x5b16cb===_0x20a85f;},'gForz':function(_0x53bd70,_0x24b96b){return _0x53bd70===_0x24b96b;},'KVvpJ':function(_0x525558,_0x32287a){return _0x525558===_0x32287a;},'CRbOa':function(_0x5536a3,_0x374dc0){return _0x5536a3===_0x374dc0;},'FRGXf':function(_0x72f3b5,_0x3f2725){return _0x72f3b5===_0x3f2725;},'RsQHl':function(_0x4d160b,_0x3b3cee){return _0x4d160b===_0x3b3cee;},'lsRsI':function(_0x28a0a4,_0x3c803d){return _0x28a0a4===_0x3c803d;},'WcDzp':function(_0x106aa7,_0x48bf1c,_0x535fd2,_0x365dd5,_0x464559){return _0x106aa7(_0x48bf1c,_0x535fd2,_0x365dd5,_0x464559);}};var _0x3f441e,_0x4f27ac;return _0x22189d[_0x4d2667(0x10a)](__awaiter,this,void 0x0,void 0x0,function*(){const _0x20eede=_0x4d2667,_0x467d83={'QpKVw':function(_0x22ed86,_0x42302c){return _0x22189d['eFSYl'](_0x22ed86,_0x42302c);}};let _0x4324f7;try{_0x4324f7=yield new Promise(_0x231781=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x2e8445=a189_0x39a9;let _0x2aed30=Buffer[_0x2e8445(0x154)]('',_0x22189d[_0x2e8445(0x17a)]);const _0x2d2263=yield(0x0,axios_1[_0x2e8445(0x194)])({'url':_0x5d3d38['url'],'method':_0x22189d[_0x2e8445(0x156)],'responseType':_0x22189d[_0x2e8445(0x17c)],'httpsAgent':agent}),_0x237b8f=new stream['PassThrough']();yield _0x2d2263[_0x2e8445(0x18c)][_0x2e8445(0x111)](_0x237b8f);let _0x57f16e=0x0;_0x237b8f['on'](_0x22189d[_0x2e8445(0x12a)],_0x4642a7=>{const _0x14d3e3=_0x2e8445;_0x57f16e+=_0x4642a7[_0x14d3e3(0x102)],_0x2aed30=Buffer[_0x14d3e3(0x142)]([_0x2aed30,_0x4642a7],_0x57f16e);}),_0x237b8f['on'](_0x22189d[_0x2e8445(0x122)],()=>{const _0x3f8dc5=_0x2e8445;_0x467d83[_0x3f8dc5(0x10f)](_0x231781,_0x2aed30);});}));}catch(_0x49236c){return _0x4a206a[_0x20eede(0x11f)]((0x0,response_builder_1[_0x20eede(0x193)])(response_builder_1[_0x20eede(0x17b)][_0x20eede(0x13b)],null,_0x20eede(0x187)+_0x49236c[_0x20eede(0x189)]()));}try{const _0x29b1d3=this[_0x20eede(0x138)](_0x4324f7);if(_0x22189d[_0x20eede(0x176)](_0x29b1d3[_0x20eede(0x184)],undefined)||_0x22189d[_0x20eede(0x16a)](_0x29b1d3['mimeType'][_0x20eede(0xfe)](_0xe8b488=>_0xe8b488[_0x20eede(0x106)](_0x20eede(0xfd))===![]),undefined))return _0x4a206a[_0x20eede(0x18d)](0x1f4),_0x4a206a[_0x20eede(0x11f)]((0x0,response_builder_1[_0x20eede(0x193)])(response_builder_1[_0x20eede(0x17b)][_0x20eede(0x13b)],null,_0x20eede(0x15b)));const _0x287d4d=Date[_0x20eede(0xf6)]()+'-'+(0x0,uuid_1['v4'])()+'.png',_0x43d766=yield this[_0x20eede(0x11a)][_0x20eede(0x192)]({'buffer':_0x4324f7,'filename':_0x287d4d,'mimetype':_0x22189d[_0x20eede(0x141)]});if(_0x22189d[_0x20eede(0x16a)](_0x22189d[_0x20eede(0x128)](_0x43d766,null)||_0x22189d[_0x20eede(0x176)](_0x43d766,void 0x0)?void 0x0:_0x43d766[_0x20eede(0x18d)],0xc8))throw(_0x22189d['PYNFY'](_0x43d766,null)||_0x22189d[_0x20eede(0x176)](_0x43d766,void 0x0)?void 0x0:_0x43d766[_0x20eede(0x18c)])||(_0x22189d[_0x20eede(0x148)](_0x43d766,null)||_0x43d766===void 0x0?void 0x0:_0x43d766['status']);return yield this['adminRecordService'][_0x20eede(0x17f)](_0x120f20['userId'],'附件',_0x20eede(0x10d)+_0x5d3d38['url']+_0x20eede(0x169)+(_0x22189d[_0x20eede(0x148)](_0x4f27ac=(_0x3f441e=_0x22189d[_0x20eede(0x109)](_0x43d766,null)||_0x22189d[_0x20eede(0x158)](_0x43d766,void 0x0)?void 0x0:_0x43d766[_0x20eede(0x18c)])===null||_0x22189d['CRbOa'](_0x3f441e,void 0x0)?void 0x0:_0x3f441e['data'],null)||_0x22189d[_0x20eede(0x107)](_0x4f27ac,void 0x0)?void 0x0:_0x4f27ac['url'])+')',Date['now']()+''),_0x4a206a[_0x20eede(0x11f)]((0x0,response_builder_1[_0x20eede(0x193)])(response_builder_1[_0x20eede(0x17b)]['OK'],_0x22189d[_0x20eede(0x182)](_0x43d766,null)||_0x22189d[_0x20eede(0x149)](_0x43d766,void 0x0)?void 0x0:_0x43d766[_0x20eede(0x18c)],''));}catch(_0x32aa97){return(0x0,morgan_log_1[_0x20eede(0x12d)])(_0x32aa97),_0x4a206a[_0x20eede(0x11f)]((0x0,response_builder_1['responseBuilder'])(response_builder_1[_0x20eede(0x17b)][_0x20eede(0x13b)],{},_0x32aa97[_0x20eede(0x189)]()));}});}};__decorate([(0x0,common_1[a189_0x25dd48(0x145)])(write_admin_sys_access_guard_1['WriteAdminSysGuard']),(0x0,common_1[a189_0x25dd48(0x168)])(a189_0x25dd48(0x119)),(0x0,common_1[a189_0x25dd48(0x10e)])((0x0,platform_express_1['FileInterceptor'])(a189_0x25dd48(0x16e),{'fileFilter':(_0x5af369,_0x4bd8b4,_0x20ef0b)=>{const _0x59262f=a189_0x25dd48,_0x5b9a4d={'MlGIa':function(_0x483aea,_0x201972,_0x482848){return _0x483aea(_0x201972,_0x482848);},'LoYHK':function(_0x5b8320,_0x64ed5f){return _0x5b8320(_0x64ed5f);}};_0x4bd8b4[_0x59262f(0x155)][_0x59262f(0x106)](_0x59262f(0xfd))?_0x5b9a4d[_0x59262f(0x195)](_0x20ef0b,null,!![]):_0x5b9a4d[_0x59262f(0x11c)](_0x20ef0b,new Error(_0x59262f(0x175)));}})),__param(0x0,(0x0,user_decorator_1[a189_0x25dd48(0xfc)])()),__param(0x1,(0x0,common_1['UploadedFile'])()),__param(0x2,(0x0,common_1['Body'])()),__param(0x3,(0x0,common_1['Res'])()),__metadata(a189_0x25dd48(0x121),Function),__metadata('design:paramtypes',[session_user_1['SessionUser'],Object,Object,Object]),__metadata('design:returntype',Promise)],ImageAdminSysController[a189_0x25dd48(0x163)],a189_0x25dd48(0xff),null),__decorate([(0x0,common_1[a189_0x25dd48(0x145)])(write_admin_sys_access_guard_1['WriteAdminSysGuard']),(0x0,common_1[a189_0x25dd48(0x168)])(a189_0x25dd48(0x17d)),__param(0x0,(0x0,user_decorator_1[a189_0x25dd48(0xfc)])()),__param(0x1,(0x0,common_1[a189_0x25dd48(0x15e)])()),__param(0x2,(0x0,common_1[a189_0x25dd48(0x136)])()),__param(0x3,(0x0,common_1['Res'])()),__metadata('design:type',Function),__metadata('design:paramtypes',[session_user_1[a189_0x25dd48(0x13a)],Object,image_admin_sys_1[a189_0x25dd48(0x180)],Object]),__metadata(a189_0x25dd48(0x172),Promise)],ImageAdminSysController[a189_0x25dd48(0x163)],a189_0x25dd48(0x11d),null),ImageAdminSysController=__decorate([(0x0,common_1['Controller'])(a189_0x25dd48(0x191)),(0x0,common_1['UseGuards'])(admin_sys_access_guard_1[a189_0x25dd48(0x14d)]),__metadata(a189_0x25dd48(0x139),[image_service_1[a189_0x25dd48(0x157)],admin_record_service_1[a189_0x25dd48(0x16c)]])],ImageAdminSysController),exports[a189_0x25dd48(0x11b)]=ImageAdminSysController;