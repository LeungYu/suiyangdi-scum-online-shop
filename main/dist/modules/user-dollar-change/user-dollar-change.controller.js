'use strict';function a284_0x4f28(_0x26d813,_0x4dbd2d){const _0x3a2610=a284_0x3a26();return a284_0x4f28=function(_0x4f28f0,_0xe64cdf){_0x4f28f0=_0x4f28f0-0xdd;let _0x44d168=_0x3a2610[_0x4f28f0];if(a284_0x4f28['nYqmyi']===undefined){var _0x41cdc7=function(_0x550442){const _0x482c05='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x26ef12='',_0x434fc5='';for(let _0x2ad04d=0x0,_0x210a9a,_0x26f42d,_0x585755=0x0;_0x26f42d=_0x550442['charAt'](_0x585755++);~_0x26f42d&&(_0x210a9a=_0x2ad04d%0x4?_0x210a9a*0x40+_0x26f42d:_0x26f42d,_0x2ad04d++%0x4)?_0x26ef12+=String['fromCharCode'](0xff&_0x210a9a>>(-0x2*_0x2ad04d&0x6)):0x0){_0x26f42d=_0x482c05['indexOf'](_0x26f42d);}for(let _0x14f40b=0x0,_0x1d7eaf=_0x26ef12['length'];_0x14f40b<_0x1d7eaf;_0x14f40b++){_0x434fc5+='%'+('00'+_0x26ef12['charCodeAt'](_0x14f40b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x434fc5);};a284_0x4f28['UhLcZJ']=_0x41cdc7,_0x26d813=arguments,a284_0x4f28['nYqmyi']=!![];}const _0x317455=_0x3a2610[0x0],_0x45d9fc=_0x4f28f0+_0x317455,_0x2df0d1=_0x26d813[_0x45d9fc];return!_0x2df0d1?(_0x44d168=a284_0x4f28['UhLcZJ'](_0x44d168),_0x26d813[_0x45d9fc]=_0x44d168):_0x44d168=_0x2df0d1,_0x44d168;},a284_0x4f28(_0x26d813,_0x4dbd2d);}const a284_0x2167f0=a284_0x4f28;(function(_0x1d062d,_0x138c90){const _0x12c1bd=a284_0x4f28,_0x14a337=_0x1d062d();while(!![]){try{const _0x451166=-parseInt(_0x12c1bd(0xe7))/0x1+parseInt(_0x12c1bd(0xef))/0x2+-parseInt(_0x12c1bd(0x118))/0x3+parseInt(_0x12c1bd(0xe3))/0x4+-parseInt(_0x12c1bd(0x11b))/0x5*(parseInt(_0x12c1bd(0xec))/0x6)+-parseInt(_0x12c1bd(0x129))/0x7*(parseInt(_0x12c1bd(0xde))/0x8)+parseInt(_0x12c1bd(0xf2))/0x9;if(_0x451166===_0x138c90)break;else _0x14a337['push'](_0x14a337['shift']());}catch(_0x18a946){_0x14a337['push'](_0x14a337['shift']());}}}(a284_0x3a26,0xc2378));function a284_0x3a26(){const _0x59d166=['yLrpvMe','lI4VDxnLCI91C2vYlNnLCNzPy2u','ntuYmtmZnuDtBMPcCW','Dg9tDhjPBMC','y2HHCMDLrg9SBgfYCW','x19WyxjHBq','vxnLCLnLCNzPy2u','qg5LC3rQCY9JB21TB24','yxjZCNq','lI4VlI4Vy29TBw9Ul21VCMDHBI1SB2C','rNrIBNa','reXJsgG','Bgv2zwXfEhbPCMvuAw1Lu3rHBxa','x19LC01VzhvSzq','AvnnCwy','lI4VlI4Vy29TBw9Ul3bHz2uTzgf0ys1IDwLSzgvY','mJe0nJG3ovfbuMzkCa','zgvZAwDUoNjLDhvYBNr5Cgu','y3jLyxrLzfrPBwvtDgfTCa','CMvJzw50','DxnLCLnLCNzPy2u','zNvUy3rPB24','ExPXDM0','zg9Uzq','q29UDhjVBgXLCG','vKD0D1K','y291BNruB3bovxnLCKnVBNn1Bwu','z2v0rgL5q2fJAgu','Bwv0ywrHDge','Bgv2zwW','BM93','BgvUz3rO','vgjRzwu','A2z6uwy','DxnLCKrVBgXHCKnOyw5NzvnLCNzPy2u','uMvZ','su5urvjoquXFrvjst1i','s09nC0e','lI4VlI4VzhrVl3bHz2u','BMv4Da','DxnLCKLK','refmD00','ndb2sxbmt1K','lI4VlI4VzhrVl3vZzxiTzg9SBgfYlwnOyw5Nzq','AhrKBLO','lI4VlI4VzhrVl3nLC3nPB24TDxnLCG','r0vul2XPC3ruB3bovxnLCKnVBNn1BwuT','mZeXntq1mK1jyvvdyW','uMvZCg9UC2vtDgf0DxndB2rL','r2v0','u2vZC2LVBLvZzxi','nJi0nZu3vvHOveXh','vxnLCKrVBgXHCKnOyw5NzvnLCNzPy2u','ChjVDg90ExbL','z2v0vxnLCKrVBgXHCKnOyw5NzuXPC3q','x19TzxrHzgf0yq','nMDfEwnYCa','55sO5OI35lIn5A2y5zYOl+ACQUEzU+w9Ls/OOQVLHRVNU5m','tgLZDfrVCe5vC2vYq29UC3vTzq','mJu2nZa2mNPUsujOEq','sgXzrey','sePZtKi','mJy2ndq2otH0yvDYs2y','lI4VlI4Vy29TBw9Ul2nHy2HLuMvKAxntDg9Yzq','lI4VlI4VzgvJB3jHDg9Yl3vZzxiUzgvJB3jHDg9Y','B2jQzwn0','rgXXwLe','zgvMAw5LuhjVCgvYDhK','l2XPC3ruB3bovxnLCKnVBNn1Bwu','C2v0rgL5q2fJAgu','lI4VlI4Vy29TBw9Ul3jLC3bVBNnLlwj1AwXKzxi','DgHYB3C','DxnLCKrVBgXHCG','Bg9NqNvZC2LUzxnZ','y29UDgvUDa','zgvZAwDUoNbHCMfTDhLWzxm','BM9YBwfS','Aw5cD20','BgLZDfrVCe5vC2vYq29UC3vTzq','x19KzwnVCMf0zq','DMfSDwu','uxvLCNK','lI91C2vYlwrVBgXHCI1JAgfUz2uUC2vYDMLJzq','ANnVBG','lI4VlI4Vy29TBw9Ul2zVCM1HDc1WywDLlxf1zxj5','l3vZzxjeB2XSyxjdAgfUz2u','qM9Iqu8','AvLlDey','CMvZCg9UC2vcDwLSzgvY','qxDRAwy','EKrWs0G','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','BwfW','Egv2Dvu','zgvZAwDUoNr5Cgu','BgLZDej5vxnLCG','z2v0tgfZDfvZzxjeB2XSyxjdAgfUz2u','zM9YBwf0ugfNzvf1zxj5','l2XPC3rcEvvZzxi','DxnLCKrVBgXHCKnOyw5NzvvZzxjFDxnLCK5HBwu','mJG5ndy4nxbKrKL3tG'];a284_0x3a26=function(){return _0x59d166;};return a284_0x3a26();}var __decorate=this&&this[a284_0x2167f0(0x103)]||function(_0x58be9a,_0xf506aa,_0x49043d,_0x5bd769){const _0x1233b9=a284_0x2167f0,_0x2287c5={'DlqZQ':function(_0xe4be4b,_0x4483cc){return _0xe4be4b===_0x4483cc;},'eBVMv':function(_0x21dfec,_0x56fc5e){return _0x21dfec===_0x56fc5e;},'yzqvm':_0x1233b9(0xf5),'inBwm':function(_0x19e98e,_0x321934){return _0x19e98e===_0x321934;},'kfzQf':_0x1233b9(0x12e),'xevuU':function(_0x583b8a,_0x4fe90d){return _0x583b8a-_0x4fe90d;},'aMAUx':function(_0x31b2e1,_0x5681c7){return _0x31b2e1>=_0x5681c7;},'iSMqf':function(_0x53b960,_0x14db0b){return _0x53b960<_0x14db0b;},'JWPLL':function(_0x557ede,_0x463b10){return _0x557ede(_0x463b10);},'bTOVa':function(_0x17529e,_0x17d59f,_0x2a2f85,_0xa4754e){return _0x17529e(_0x17d59f,_0x2a2f85,_0xa4754e);}};var _0x236904=arguments['length'],_0x47638a=_0x236904<0x3?_0xf506aa:_0x2287c5[_0x1233b9(0xf6)](_0x5bd769,null)?_0x5bd769=Object[_0x1233b9(0x10f)](_0xf506aa,_0x49043d):_0x5bd769,_0x56c597;if(_0x2287c5['eBVMv'](typeof Reflect,_0x2287c5[_0x1233b9(0x12f)])&&_0x2287c5[_0x1233b9(0x101)](typeof Reflect['decorate'],_0x2287c5[_0x1233b9(0x13a)]))_0x47638a=Reflect['decorate'](_0x58be9a,_0xf506aa,_0x49043d,_0x5bd769);else{for(var _0x12737b=_0x2287c5[_0x1233b9(0x111)](_0x58be9a[_0x1233b9(0x138)],0x1);_0x2287c5['aMAUx'](_0x12737b,0x0);_0x12737b--)if(_0x56c597=_0x58be9a[_0x12737b])_0x47638a=(_0x2287c5[_0x1233b9(0x127)](_0x236904,0x3)?_0x2287c5['JWPLL'](_0x56c597,_0x47638a):_0x236904>0x3?_0x2287c5[_0x1233b9(0x119)](_0x56c597,_0xf506aa,_0x49043d,_0x47638a):_0x56c597(_0xf506aa,_0x49043d))||_0x47638a;}return _0x236904>0x3&&_0x47638a&&Object[_0x1233b9(0xf7)](_0xf506aa,_0x49043d,_0x47638a),_0x47638a;},__metadata=this&&this[a284_0x2167f0(0xeb)]||function(_0x57eb88,_0x525765){const _0x4608e1=a284_0x2167f0,_0x1e2d5c={'BobAO':function(_0x3e69fa,_0x3432ba){return _0x3e69fa===_0x3432ba;},'KOMsA':_0x4608e1(0xf5),'htdnZ':function(_0x14e778,_0x181144){return _0x14e778===_0x181144;},'Tbkee':_0x4608e1(0x12e)};if(_0x1e2d5c[_0x4608e1(0x10a)](typeof Reflect,_0x1e2d5c[_0x4608e1(0x13e)])&&_0x1e2d5c[_0x4608e1(0xe0)](typeof Reflect[_0x4608e1(0x135)],_0x1e2d5c[_0x4608e1(0x139)]))return Reflect[_0x4608e1(0x135)](_0x57eb88,_0x525765);},__param=this&&this[a284_0x2167f0(0x11e)]||function(_0x407dde,_0x4cfe2e){const _0xe81df6={'dcIaa':function(_0x4c7776,_0x549330,_0x39c466,_0x330002){return _0x4c7776(_0x549330,_0x39c466,_0x330002);}};return function(_0x51ee93,_0x36e822){_0xe81df6['dcIaa'](_0x4cfe2e,_0x51ee93,_0x36e822,_0x407dde);};},__awaiter=this&&this['__awaiter']||function(_0x3c1d44,_0x50cc1a,_0x27ea7e,_0x1cd4fc){const _0x2131c9={'OHFEE':function(_0x29bb45,_0x174ff){return _0x29bb45(_0x174ff);},'arsrt':function(_0x5f2cac,_0x2be03e){return _0x5f2cac instanceof _0x2be03e;},'DALwM':function(_0x262421,_0x51bd29){return _0x262421(_0x51bd29);},'iYKtF':function(_0x17de99,_0x51469a){return _0x17de99(_0x51469a);},'HJsNB':function(_0xbb63b3,_0x4be9b7){return _0xbb63b3(_0x4be9b7);},'HlYDF':function(_0x2c5a47,_0x4a15c0){return _0x2c5a47(_0x4a15c0);}};function _0x55845f(_0x28dde0){const _0x5ed871=a284_0x4f28;return _0x2131c9[_0x5ed871(0x121)](_0x28dde0,_0x27ea7e)?_0x28dde0:new _0x27ea7e(function(_0x36433b){_0x2131c9['OHFEE'](_0x36433b,_0x28dde0);});}return new(_0x27ea7e||(_0x27ea7e=Promise))(function(_0xe249fb,_0x1a7c7b){const _0x92dda5=a284_0x4f28;function _0x4d67c4(_0x395ca1){const _0x173d91=a284_0x4f28;try{_0x2131c9[_0x173d91(0xdd)](_0x515a7e,_0x1cd4fc[_0x173d91(0x140)](_0x395ca1));}catch(_0xe5da65){_0x2131c9[_0x173d91(0x10b)](_0x1a7c7b,_0xe5da65);}}function _0x503d46(_0xc6853c){const _0xe06c5e=a284_0x4f28;try{_0x2131c9[_0xe06c5e(0xdd)](_0x515a7e,_0x1cd4fc[_0xe06c5e(0xfb)](_0xc6853c));}catch(_0x4fc7fe){_0x1a7c7b(_0x4fc7fe);}}function _0x515a7e(_0x10c9b6){const _0x5cec55=a284_0x4f28;_0x10c9b6[_0x5cec55(0x130)]?_0x2131c9[_0x5cec55(0xf1)](_0xe249fb,_0x10c9b6[_0x5cec55(0x104)]):_0x55845f(_0x10c9b6[_0x5cec55(0x104)])['then'](_0x4d67c4,_0x503d46);}_0x2131c9[_0x92dda5(0xf0)](_0x515a7e,(_0x1cd4fc=_0x1cd4fc['apply'](_0x3c1d44,_0x50cc1a||[]))[_0x92dda5(0x140)]());});};Object[a284_0x2167f0(0xf7)](exports,a284_0x2167f0(0x126),{'value':!![]}),exports['UserDollarChangeController']=void 0x0;const common_1=require(a284_0x2167f0(0x120)),session_user_1=require(a284_0x2167f0(0xe1)),user_dollar_change_1=require(a284_0x2167f0(0xdf)),user_decorator_1=require(a284_0x2167f0(0xf4)),response_builder_1=require(a284_0x2167f0(0xfa)),page_1=require(a284_0x2167f0(0x13f)),user_service_1=require(a284_0x2167f0(0x11a)),user_dollar_change_service_1=require(a284_0x2167f0(0x106)),format_page_query_1=require(a284_0x2167f0(0x108)),page_data_builder_1=require(a284_0x2167f0(0x128)),morgan_log_1=require(a284_0x2167f0(0x122)),cacheRedisStore_1=require(a284_0x2167f0(0xf3));let UserDollarChangeController=class UserDollarChangeController{constructor(_0x46dc16,_0x550906){const _0x1377e7=a284_0x2167f0;this[_0x1377e7(0x12d)]=_0x46dc16,this[_0x1377e7(0x13b)]=_0x550906;}['listByUser'](_0x4b382b,_0x4c0ffc,_0x573a9f){const _0x39bbe3=a284_0x2167f0,_0x22835e={'gYVCd':function(_0x5aed66,_0x448eae){return _0x5aed66>=_0x448eae;},'DUYMC':function(_0x31c987,_0x5a5e39){return _0x31c987===_0x5a5e39;},'MipvM':_0x39bbe3(0x100),'zDpKH':function(_0x262dd1,_0x5f0f53){return _0x262dd1>=_0x5f0f53;},'niNhB':function(_0x135b9f,_0x4594c5){return _0x135b9f>=_0x4594c5;}};return __awaiter(this,void 0x0,void 0x0,function*(){const _0x358789=_0x39bbe3;try{_0x4c0ffc=(0x0,format_page_query_1[_0x358789(0x115)])(_0x4c0ffc);const _0x2d2fe5=yield this['userService']['getUser'](_0x4b382b);if(_0x2d2fe5&&_0x22835e['gYVCd'](_0x2d2fe5['id'],0x0)&&_0x22835e['DUYMC'](_0x2d2fe5['status'],_0x22835e['MipvM'])){_0x2d2fe5[_0x358789(0xfc)][_0x358789(0x136)]=_0x2d2fe5[_0x358789(0xfc)][_0x358789(0x125)]===null||_0x22835e[_0x358789(0x10e)](_0x2d2fe5[_0x358789(0xfc)][_0x358789(0x125)],Date[_0x358789(0x137)]())?_0x2d2fe5[_0x358789(0xfc)][_0x358789(0x136)]:0x0,_0x2d2fe5[_0x358789(0xfc)]['chargeDollars']=_0x2d2fe5[_0x358789(0xfc)][_0x358789(0x125)]===null||_0x22835e['niNhB'](_0x2d2fe5[_0x358789(0xfc)][_0x358789(0x125)],Date[_0x358789(0x137)]())?_0x2d2fe5['userDollar'][_0x358789(0x11d)]:0x0;const _0x170777=yield this[_0x358789(0x13b)][_0x358789(0xea)](_0x4c0ffc,{'userId':_0x4b382b[_0x358789(0x141)]});return _0x573a9f[_0x358789(0x107)]((0x0,response_builder_1[_0x358789(0x10c)])(response_builder_1[_0x358789(0xe4)]['OK'],(0x0,page_data_builder_1['pageDataBuilder'])(_0x170777,_0x4c0ffc)));}else return _0x573a9f[_0x358789(0x107)]((0x0,response_builder_1[_0x358789(0x10c)])(response_builder_1[_0x358789(0xe4)][_0x358789(0x13d)],{},_0x358789(0xed)));}catch(_0x242b66){return(0x0,morgan_log_1[_0x358789(0xfd)])(_0x242b66),_0x573a9f[_0x358789(0x107)]((0x0,response_builder_1['responseBuilder'])(response_builder_1['ResponseStatusCode'][_0x358789(0x13d)],{},_0x242b66[_0x358789(0x11c)]()));}});}[a284_0x2167f0(0x102)](_0x424934,_0x1a2da2){const _0x305e47={'VGtwY':function(_0x202be4,_0x2269f7){return _0x202be4<=_0x2269f7;},'Awkif':function(_0x2c54c3,_0xdf3438){return _0x2c54c3===_0xdf3438;},'Ftbnp':function(_0xb76663,_0x330abe){return _0xb76663*_0x330abe;},'DLcHh':function(_0x51b05c,_0x42d683){return _0x51b05c===_0x42d683;},'FXdIu':function(_0x428973,_0x2322a2){return _0x428973===_0x2322a2;},'BfWKb':function(_0x38a948,_0xf9e0fa,_0x53ee41,_0x5b8de0,_0xbea584){return _0x38a948(_0xf9e0fa,_0x53ee41,_0x5b8de0,_0xbea584);}};return _0x305e47['BfWKb'](__awaiter,this,void 0x0,void 0x0,function*(){const _0x25b4c1=a284_0x4f28;try{const _0x1fe3dd=yield(0x0,cacheRedisStore_1[_0x25b4c1(0x134)])(_0x25b4c1(0xe2)+(_0x424934[_0x25b4c1(0x12c)]&&_0x305e47[_0x25b4c1(0x132)](_0x424934[_0x25b4c1(0x12c)],0x14)?_0x424934[_0x25b4c1(0x12c)]:0x14),!![]);if(_0x1fe3dd!==null)return _0x1a2da2[_0x25b4c1(0x107)]((0x0,response_builder_1[_0x25b4c1(0x10c)])(response_builder_1[_0x25b4c1(0xe4)]['OK'],_0x305e47[_0x25b4c1(0x10d)](_0x1fe3dd,null)||_0x305e47['Awkif'](_0x1fe3dd,void 0x0)?void 0x0:_0x1fe3dd[_0x25b4c1(0xfe)]));let _0x488499=yield this[_0x25b4c1(0x13b)][_0x25b4c1(0x133)](_0x424934[_0x25b4c1(0x12c)]&&_0x305e47['VGtwY'](_0x424934[_0x25b4c1(0x12c)],0x14)?_0x424934[_0x25b4c1(0x12c)]:0x14);_0x488499=_0x488499[_0x25b4c1(0x110)](_0x222e90=>{const _0x2c676f=_0x25b4c1;return{'userName':_0x222e90[_0x2c676f(0x117)],'total':_0x222e90['total']};});let _0x300ca6=yield this['userDollarChangeService'][_0x25b4c1(0x114)]();return yield(0x0,cacheRedisStore_1[_0x25b4c1(0xf9)])('GET/listTopNUserConsume-'+(_0x424934[_0x25b4c1(0x12c)]&&_0x305e47[_0x25b4c1(0x132)](_0x424934[_0x25b4c1(0x12c)],0x14)?_0x424934[_0x25b4c1(0x12c)]:0x14),{'content':{'statsFrom':_0x305e47[_0x25b4c1(0x10d)](_0x300ca6,null)||_0x305e47['Awkif'](_0x300ca6,void 0x0)?void 0x0:_0x300ca6['createdTimeStamp'],'result':_0x488499}},_0x305e47[_0x25b4c1(0x123)](0x3c,0x5),!![]),_0x1a2da2[_0x25b4c1(0x107)]((0x0,response_builder_1[_0x25b4c1(0x10c)])(response_builder_1[_0x25b4c1(0xe4)]['OK'],{'statsFrom':_0x305e47[_0x25b4c1(0x124)](_0x300ca6,null)||_0x305e47['FXdIu'](_0x300ca6,void 0x0)?void 0x0:_0x300ca6[_0x25b4c1(0x12b)],'result':_0x488499}));}catch(_0x3e5d22){return(0x0,morgan_log_1[_0x25b4c1(0xfd)])(_0x3e5d22),_0x1a2da2[_0x25b4c1(0x107)]((0x0,response_builder_1[_0x25b4c1(0x10c)])(response_builder_1['ResponseStatusCode']['OK'],{},_0x3e5d22[_0x25b4c1(0x11c)]()));}});}};__decorate([(0x0,common_1[a284_0x2167f0(0xe5)])(a284_0x2167f0(0x116)),__param(0x0,(0x0,user_decorator_1['SessUser'])()),__param(0x1,(0x0,common_1['Query'])()),__param(0x2,(0x0,common_1[a284_0x2167f0(0x13c)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[session_user_1[a284_0x2167f0(0xe6)],page_1['Page'],Object]),__metadata(a284_0x2167f0(0x12a),Promise)],UserDollarChangeController['prototype'],a284_0x2167f0(0x113),null),__decorate([(0x0,common_1[a284_0x2167f0(0xe5)])(a284_0x2167f0(0xf8)),__param(0x0,(0x0,common_1[a284_0x2167f0(0x105)])()),__param(0x1,(0x0,common_1[a284_0x2167f0(0x13c)])()),__metadata(a284_0x2167f0(0x112),Function),__metadata(a284_0x2167f0(0xff),[user_dollar_change_1[a284_0x2167f0(0xee)],Object]),__metadata(a284_0x2167f0(0x12a),Promise)],UserDollarChangeController[a284_0x2167f0(0xe9)],a284_0x2167f0(0x102),null),UserDollarChangeController=__decorate([(0x0,common_1[a284_0x2167f0(0x131)])(a284_0x2167f0(0x109)),__metadata('design:paramtypes',[user_service_1[a284_0x2167f0(0x11f)],user_dollar_change_service_1[a284_0x2167f0(0xe8)]])],UserDollarChangeController),exports['UserDollarChangeController']=UserDollarChangeController;