'use strict';const a216_0x3a4c94=a216_0x49f5;(function(_0x9afe5f,_0x4c94e3){const _0x41d85f=a216_0x49f5,_0x26cac0=_0x9afe5f();while(!![]){try{const _0x1842a6=-parseInt(_0x41d85f(0x20d))/0x1*(-parseInt(_0x41d85f(0x1ec))/0x2)+-parseInt(_0x41d85f(0x1bc))/0x3*(-parseInt(_0x41d85f(0x263))/0x4)+parseInt(_0x41d85f(0x1ef))/0x5*(parseInt(_0x41d85f(0x212))/0x6)+parseInt(_0x41d85f(0x24c))/0x7+parseInt(_0x41d85f(0x242))/0x8+-parseInt(_0x41d85f(0x234))/0x9*(parseInt(_0x41d85f(0x1da))/0xa)+-parseInt(_0x41d85f(0x252))/0xb;if(_0x1842a6===_0x4c94e3)break;else _0x26cac0['push'](_0x26cac0['shift']());}catch(_0x47498f){_0x26cac0['push'](_0x26cac0['shift']());}}}(a216_0x232b,0x8b0dc));function a216_0x49f5(_0x40c535,_0x567c50){const _0x232bd6=a216_0x232b();return a216_0x49f5=function(_0x49f54e,_0x3fcb8f){_0x49f54e=_0x49f54e-0x1b6;let _0x2e6ab7=_0x232bd6[_0x49f54e];if(a216_0x49f5['jfSarN']===undefined){var _0x3b468f=function(_0x4d63e4){const _0x3224fe='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x197dde='',_0x19bc03='';for(let _0x89b1=0x0,_0x267a3b,_0x16ccbf,_0x2b9fcb=0x0;_0x16ccbf=_0x4d63e4['charAt'](_0x2b9fcb++);~_0x16ccbf&&(_0x267a3b=_0x89b1%0x4?_0x267a3b*0x40+_0x16ccbf:_0x16ccbf,_0x89b1++%0x4)?_0x197dde+=String['fromCharCode'](0xff&_0x267a3b>>(-0x2*_0x89b1&0x6)):0x0){_0x16ccbf=_0x3224fe['indexOf'](_0x16ccbf);}for(let _0x3897db=0x0,_0x4a4e8e=_0x197dde['length'];_0x3897db<_0x4a4e8e;_0x3897db++){_0x19bc03+='%'+('00'+_0x197dde['charCodeAt'](_0x3897db)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x19bc03);};a216_0x49f5['CxjhnN']=_0x3b468f,_0x40c535=arguments,a216_0x49f5['jfSarN']=!![];}const _0x1ec69c=_0x232bd6[0x0],_0x338dde=_0x49f54e+_0x1ec69c,_0x2f6494=_0x40c535[_0x338dde];return!_0x2f6494?(_0x2e6ab7=a216_0x49f5['CxjhnN'](_0x2e6ab7),_0x40c535[_0x338dde]=_0x2e6ab7):_0x2e6ab7=_0x2f6494,_0x2e6ab7;},a216_0x49f5(_0x40c535,_0x567c50);}var __decorate=this&&this[a216_0x3a4c94(0x21d)]||function(_0x521db0,_0x9ce58f,_0x7b6875,_0x25ba91){const _0x1a8a68=a216_0x3a4c94,_0x2c0ff8={'ONDYF':function(_0x4fd4aa,_0x4fe6c6){return _0x4fd4aa<_0x4fe6c6;},'WaZml':function(_0x281cef,_0x36a714){return _0x281cef===_0x36a714;},'PTdmq':_0x1a8a68(0x265),'ZWTpN':function(_0x390276,_0x1530c3){return _0x390276-_0x1530c3;},'WRlmv':function(_0x16a48a,_0x47b70c){return _0x16a48a>=_0x47b70c;},'oPkDX':function(_0x16ad5c,_0x513210){return _0x16ad5c<_0x513210;},'aHcvx':function(_0x68c813,_0x3e375e){return _0x68c813(_0x3e375e);},'hMiSY':function(_0x2e2a25,_0x43b8a1){return _0x2e2a25>_0x43b8a1;},'pQJkW':function(_0x3031aa,_0x421c20,_0x47fbbc,_0x2fb7c2){return _0x3031aa(_0x421c20,_0x47fbbc,_0x2fb7c2);},'xqQFf':function(_0x28408c,_0x3eede6,_0x50d8fb){return _0x28408c(_0x3eede6,_0x50d8fb);},'sSyus':function(_0x7fa6ce,_0x6610d2){return _0x7fa6ce>_0x6610d2;}};var _0x430e09=arguments[_0x1a8a68(0x1f2)],_0x5defa4=_0x2c0ff8['ONDYF'](_0x430e09,0x3)?_0x9ce58f:_0x2c0ff8['WaZml'](_0x25ba91,null)?_0x25ba91=Object['getOwnPropertyDescriptor'](_0x9ce58f,_0x7b6875):_0x25ba91,_0xf9e877;if(typeof Reflect===_0x1a8a68(0x1f6)&&typeof Reflect[_0x1a8a68(0x1fe)]===_0x2c0ff8['PTdmq'])_0x5defa4=Reflect[_0x1a8a68(0x1fe)](_0x521db0,_0x9ce58f,_0x7b6875,_0x25ba91);else{for(var _0x5e5482=_0x2c0ff8[_0x1a8a68(0x1d9)](_0x521db0['length'],0x1);_0x2c0ff8[_0x1a8a68(0x207)](_0x5e5482,0x0);_0x5e5482--)if(_0xf9e877=_0x521db0[_0x5e5482])_0x5defa4=(_0x2c0ff8['oPkDX'](_0x430e09,0x3)?_0x2c0ff8[_0x1a8a68(0x210)](_0xf9e877,_0x5defa4):_0x2c0ff8[_0x1a8a68(0x1dc)](_0x430e09,0x3)?_0x2c0ff8[_0x1a8a68(0x24d)](_0xf9e877,_0x9ce58f,_0x7b6875,_0x5defa4):_0x2c0ff8[_0x1a8a68(0x20b)](_0xf9e877,_0x9ce58f,_0x7b6875))||_0x5defa4;}return _0x2c0ff8[_0x1a8a68(0x1bb)](_0x430e09,0x3)&&_0x5defa4&&Object[_0x1a8a68(0x230)](_0x9ce58f,_0x7b6875,_0x5defa4),_0x5defa4;},__metadata=this&&this['__metadata']||function(_0x4cfa94,_0x3e107d){const _0x5754dd=a216_0x3a4c94,_0x44fc01={'lLRlR':function(_0x16178d,_0x5d5e8a){return _0x16178d===_0x5d5e8a;},'dENfs':'function'};if(_0x44fc01[_0x5754dd(0x1e7)](typeof Reflect,_0x5754dd(0x1f6))&&typeof Reflect['metadata']===_0x44fc01[_0x5754dd(0x1c9)])return Reflect['metadata'](_0x4cfa94,_0x3e107d);},__param=this&&this[a216_0x3a4c94(0x1f1)]||function(_0x41a0b6,_0x5295b8){return function(_0x2335a5,_0x14599a){_0x5295b8(_0x2335a5,_0x14599a,_0x41a0b6);};},__awaiter=this&&this['__awaiter']||function(_0x1c92a1,_0x183057,_0x4c5874,_0x36135a){const _0x564233=a216_0x3a4c94,_0x56dd3e={'OUdXL':function(_0x1acc31,_0x5ac2a5){return _0x1acc31(_0x5ac2a5);},'AfVfW':_0x564233(0x1b6),'ecCBa':function(_0x1ff691,_0x3a41cf){return _0x1ff691(_0x3a41cf);}};function _0x2cf70e(_0x2e2131){return _0x2e2131 instanceof _0x4c5874?_0x2e2131:new _0x4c5874(function(_0x12b2f3){_0x12b2f3(_0x2e2131);});}return new(_0x4c5874||(_0x4c5874=Promise))(function(_0x5386e3,_0x15c3fd){const _0x4b6377=_0x564233,_0x2a7201={'quFKo':function(_0x783a8e,_0x23f2ce){const _0x3a8b97=a216_0x49f5;return _0x56dd3e[_0x3a8b97(0x233)](_0x783a8e,_0x23f2ce);},'HUWzq':_0x56dd3e[_0x4b6377(0x1df)],'wxhLR':function(_0x162974,_0x42a429){return _0x56dd3e['OUdXL'](_0x162974,_0x42a429);},'WmpEb':function(_0x1a31ee,_0xc89a0e){const _0x441034=_0x4b6377;return _0x56dd3e[_0x441034(0x1f7)](_0x1a31ee,_0xc89a0e);}};function _0x55b75f(_0x1d6a31){const _0xe2c9fb=_0x4b6377;try{_0x56dd3e[_0xe2c9fb(0x233)](_0x2c69f5,_0x36135a[_0xe2c9fb(0x1f8)](_0x1d6a31));}catch(_0x5acb90){_0x56dd3e['OUdXL'](_0x15c3fd,_0x5acb90);}}function _0x2ad900(_0x3fd95a){const _0x152aba=_0x4b6377;try{_0x2a7201[_0x152aba(0x1e3)](_0x2c69f5,_0x36135a[_0x2a7201['HUWzq']](_0x3fd95a));}catch(_0x2f2213){_0x2a7201['wxhLR'](_0x15c3fd,_0x2f2213);}}function _0x2c69f5(_0x427bed){const _0x24b379=_0x4b6377;_0x427bed['done']?_0x2a7201[_0x24b379(0x213)](_0x5386e3,_0x427bed['value']):_0x2a7201[_0x24b379(0x213)](_0x2cf70e,_0x427bed[_0x24b379(0x256)])['then'](_0x55b75f,_0x2ad900);}_0x56dd3e[_0x4b6377(0x233)](_0x2c69f5,(_0x36135a=_0x36135a[_0x4b6377(0x250)](_0x1c92a1,_0x183057||[]))[_0x4b6377(0x1f8)]());});};Object['defineProperty'](exports,a216_0x3a4c94(0x20f),{'value':!![]}),exports['LiquidationService']=void 0x0;const common_1=require('@nestjs/common'),typeorm_1=require(a216_0x3a4c94(0x276)),typeorm_2=require(a216_0x3a4c94(0x1d8)),liquidation_entity_1=require(a216_0x3a4c94(0x1f0)),squad_entity_1=require('../../entity/squad.entity'),liquidation_kill_service_1=require(a216_0x3a4c94(0x1b7)),user_service_1=require(a216_0x3a4c94(0x1e5)),queue_service_1=require(a216_0x3a4c94(0x1d1)),server_config_service_1=require(a216_0x3a4c94(0x1dd)),squad_user_service_1=require(a216_0x3a4c94(0x1e8)),configs_1=require(a216_0x3a4c94(0x25a)),format_page_query_1=require(a216_0x3a4c94(0x260));let LiquidationService=class LiquidationService{constructor(_0x53594a,_0x38e555,_0x25f6bb,_0x4b6cb0,_0x14b2a2,_0x2cdb5a){const _0x281f5e=a216_0x3a4c94,_0x5f5295={'vcNfM':_0x281f5e(0x235)},_0x1fcb07=_0x5f5295['vcNfM'][_0x281f5e(0x1bf)]('|');let _0x1a9a36=0x0;while(!![]){switch(_0x1fcb07[_0x1a9a36++]){case'0':this[_0x281f5e(0x1ca)]=_0x25f6bb;continue;case'1':this[_0x281f5e(0x22f)]=_0x38e555;continue;case'2':this[_0x281f5e(0x202)]=_0x2cdb5a;continue;case'3':this[_0x281f5e(0x1d5)]=_0x14b2a2;continue;case'4':this[_0x281f5e(0x1d3)]=_0x4b6cb0;continue;case'5':this[_0x281f5e(0x1cb)]=_0x53594a;continue;}break;}}['saveLiquidation'](_0x25ae6,_0x3b30e3,_0x90b547,_0x1a1226,_0x17f67f){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x107f2e=a216_0x49f5;return yield this[_0x107f2e(0x1cb)][_0x107f2e(0x246)](new liquidation_entity_1[(_0x107f2e(0x1d2))](_0x25ae6,_0x3b30e3,_0x90b547,_0x1a1226,_0x17f67f));});}[a216_0x3a4c94(0x1ba)](_0x42771c){const _0x244ee2={'kqBfJ':'id\x20=\x20:id','jAmBg':function(_0x5d394b,_0xfe4891,_0x2faab8,_0x215ae6,_0x19d2dd){return _0x5d394b(_0xfe4891,_0x2faab8,_0x215ae6,_0x19d2dd);}};return _0x244ee2['jAmBg'](__awaiter,this,void 0x0,void 0x0,function*(){const _0x6a0831=a216_0x49f5;let _0x304e8f=this[_0x6a0831(0x1cb)][_0x6a0831(0x1c7)]()['update'](liquidation_entity_1['Liquidation'])[_0x6a0831(0x224)](_0x42771c);return _0x304e8f=_0x304e8f[_0x6a0831(0x23c)](_0x244ee2[_0x6a0831(0x1ee)],{'id':_0x42771c['id']}),yield _0x304e8f['execute']();});}[a216_0x3a4c94(0x237)](_0x50dbaf,_0x2fb1d8){const _0x254ff9=a216_0x3a4c94,_0x5b50d4={'YRSxd':_0x254ff9(0x1cd),'XjGgN':'liquidation.declareSquad','FeQaZ':_0x254ff9(0x200),'aMygX':_0x254ff9(0x223),'BxZDF':'acceptSquad','sddYX':_0x254ff9(0x1c5),'ayyPT':_0x254ff9(0x1d4),'VPnqZ':function(_0x2dbc8e,_0x2336aa){return _0x2dbc8e!==_0x2336aa;},'siUKC':_0x254ff9(0x1f3),'enrzs':function(_0x36360e,_0x2f8b06,_0x5101af,_0xd716e6,_0x3999a2){return _0x36360e(_0x2f8b06,_0x5101af,_0xd716e6,_0x3999a2);}};return _0x5b50d4[_0x254ff9(0x23f)](__awaiter,this,void 0x0,void 0x0,function*(){const _0x43a6dc=_0x254ff9;let _0x4ee2b0=yield this['liquidationRepository']['createQueryBuilder'](_0x5b50d4[_0x43a6dc(0x1ed)]);return _0x4ee2b0=_0x4ee2b0[_0x43a6dc(0x208)](_0x5b50d4[_0x43a6dc(0x229)],squad_entity_1[_0x43a6dc(0x23a)],_0x43a6dc(0x25d),_0x5b50d4[_0x43a6dc(0x24a)]),_0x4ee2b0=_0x4ee2b0['leftJoinAndMapOne'](_0x5b50d4[_0x43a6dc(0x220)],squad_entity_1['Squad'],_0x5b50d4[_0x43a6dc(0x262)],_0x5b50d4['sddYX']),_0x2fb1d8[_0x43a6dc(0x249)]!==undefined&&(_0x4ee2b0=_0x4ee2b0['andWhere'](_0x5b50d4[_0x43a6dc(0x26b)],{'declareSquadId':_0x2fb1d8[_0x43a6dc(0x249)]})),_0x2fb1d8[_0x43a6dc(0x216)]!==undefined&&(_0x4ee2b0=_0x4ee2b0[_0x43a6dc(0x23c)](_0x43a6dc(0x1c0),{'acceptSquadId':_0x2fb1d8[_0x43a6dc(0x216)]})),_0x5b50d4[_0x43a6dc(0x1d6)](_0x2fb1d8[_0x43a6dc(0x245)],undefined)&&(_0x4ee2b0=_0x4ee2b0[_0x43a6dc(0x23c)](_0x5b50d4[_0x43a6dc(0x26d)],{'status':_0x2fb1d8['status']})),yield _0x4ee2b0[_0x43a6dc(0x1e2)]('liquidation.createdTimeStamp',_0x43a6dc(0x275))['skip'](_0x50dbaf[_0x43a6dc(0x201)])['take'](_0x50dbaf[_0x43a6dc(0x272)])[_0x43a6dc(0x203)]();});}[a216_0x3a4c94(0x26c)](_0x27ba32,_0x59ec8e){const _0x593daa=a216_0x3a4c94,_0x1d815c={'sEhsh':_0x593daa(0x1cd),'ESIFJ':_0x593daa(0x1c3),'OwEqd':_0x593daa(0x200),'ooBRw':_0x593daa(0x223),'Fhcbc':_0x593daa(0x1fb),'OWVLA':_0x593daa(0x1c5),'YQIwI':function(_0x5e8c2c,_0xb9c850){return _0x5e8c2c!==_0xb9c850;},'EiwNw':_0x593daa(0x22b),'Smydv':'acceptSquad.name\x20like\x20:acceptSquadName','IWCFZ':function(_0x55208a,_0x3f9df8){return _0x55208a!==_0x3f9df8;},'kYcTA':function(_0x2192be,_0x455aa7){return _0x2192be===_0x455aa7;},'sfzUS':_0x593daa(0x204),'efrxA':_0x593daa(0x1f4),'TyEIZ':_0x593daa(0x1c8),'sMOlC':_0x593daa(0x254),'PjWiA':function(_0x1617bf,_0x2bb048,_0x30a178,_0x4b9781,_0x596fc2){return _0x1617bf(_0x2bb048,_0x30a178,_0x4b9781,_0x596fc2);}};return _0x1d815c[_0x593daa(0x25f)](__awaiter,this,void 0x0,void 0x0,function*(){const _0x3a4bfa=_0x593daa;let _0x28c502=yield this['liquidationRepository'][_0x3a4bfa(0x1c7)](_0x1d815c['sEhsh']);return _0x28c502=_0x28c502[_0x3a4bfa(0x208)](_0x1d815c[_0x3a4bfa(0x274)],squad_entity_1[_0x3a4bfa(0x23a)],_0x3a4bfa(0x25d),_0x1d815c[_0x3a4bfa(0x24f)]),_0x28c502=_0x28c502[_0x3a4bfa(0x208)](_0x1d815c[_0x3a4bfa(0x1bd)],squad_entity_1[_0x3a4bfa(0x23a)],_0x1d815c['Fhcbc'],_0x1d815c[_0x3a4bfa(0x1ff)]),_0x1d815c['YQIwI'](_0x59ec8e[_0x3a4bfa(0x249)],undefined)&&(_0x28c502=_0x28c502[_0x3a4bfa(0x23c)]('liquidation.declareSquadId\x20like\x20:declareSquadId',{'declareSquadId':'%'+_0x59ec8e[_0x3a4bfa(0x249)]+'%'})),_0x1d815c[_0x3a4bfa(0x22e)](_0x59ec8e['acceptSquadId'],undefined)&&(_0x28c502=_0x28c502[_0x3a4bfa(0x23c)](_0x1d815c['EiwNw'],{'acceptSquadId':'%'+_0x59ec8e[_0x3a4bfa(0x216)]+'%'})),_0x59ec8e[_0x3a4bfa(0x21f)]!==undefined&&(_0x28c502=_0x28c502[_0x3a4bfa(0x23c)](_0x3a4bfa(0x23e),{'declareSquadName':'%'+_0x59ec8e['declareSquadName']+'%'})),_0x59ec8e[_0x3a4bfa(0x1d7)]!==undefined&&(_0x28c502=_0x28c502['andWhere'](_0x1d815c[_0x3a4bfa(0x21c)],{'acceptSquadName':'%'+_0x59ec8e['acceptSquadName']+'%'})),_0x1d815c[_0x3a4bfa(0x22a)](_0x59ec8e[_0x3a4bfa(0x245)],undefined)&&(_0x28c502=_0x1d815c[_0x3a4bfa(0x238)](_0x59ec8e[_0x3a4bfa(0x245)],null)?_0x28c502[_0x3a4bfa(0x23c)](_0x1d815c[_0x3a4bfa(0x209)],{'status':_0x59ec8e['status']}):_0x28c502[_0x3a4bfa(0x23c)](_0x3a4bfa(0x1f3),{'status':_0x59ec8e['status']})),_0x59ec8e[_0x3a4bfa(0x21a)]&&_0x59ec8e[_0x3a4bfa(0x1f5)]&&(_0x28c502=_0x28c502[_0x3a4bfa(0x23c)](_0x1d815c[_0x3a4bfa(0x267)],{'timestampStart':_0x59ec8e['timestampStart']}),_0x28c502=_0x28c502['andWhere'](_0x1d815c['TyEIZ'],{'timestampEnd':_0x59ec8e['timestampEnd']})),yield _0x28c502[_0x3a4bfa(0x1e2)](_0x3a4bfa(0x228),_0x1d815c[_0x3a4bfa(0x1e6)])[_0x3a4bfa(0x1eb)](_0x27ba32[_0x3a4bfa(0x201)])[_0x3a4bfa(0x217)](_0x27ba32[_0x3a4bfa(0x272)])[_0x3a4bfa(0x203)]();});}[a216_0x3a4c94(0x206)](_0x4cd684){const _0x39cc83=a216_0x3a4c94,_0x336dc0={'gORlL':_0x39cc83(0x1cd),'zVpcI':_0x39cc83(0x1c3),'iOQGL':_0x39cc83(0x25d),'BZiDO':'liquidation.declareSquadId\x20=\x20declareSquad.id','hbCeu':_0x39cc83(0x223),'FrmGK':'liquidation.acceptSquadId\x20=\x20acceptSquad.id','pnQFi':function(_0x462960,_0x25609e){return _0x462960!==_0x25609e;},'BEUgz':function(_0x2df5a2,_0x58bdc2){return _0x2df5a2!==_0x58bdc2;},'ftVxM':function(_0x2bd2ef,_0x135bf9){return _0x2bd2ef!==_0x135bf9;},'fiGRJ':'liquidation.acceptSquadId\x20=\x20:acceptSquadId','RxOpJ':function(_0x596654,_0x1641fe){return _0x596654!==_0x1641fe;},'uXoFy':_0x39cc83(0x1d4),'xzQZT':_0x39cc83(0x26f),'YdPMU':function(_0x19ed69,_0x2d5584,_0x43d4ff,_0x33bba2,_0x359d97){return _0x19ed69(_0x2d5584,_0x43d4ff,_0x33bba2,_0x359d97);}};return _0x336dc0[_0x39cc83(0x1d0)](__awaiter,this,void 0x0,void 0x0,function*(){const _0x115e48=_0x39cc83;let _0x1dc176=yield this[_0x115e48(0x1cb)][_0x115e48(0x1c7)](_0x336dc0[_0x115e48(0x1e0)]);_0x1dc176=_0x1dc176[_0x115e48(0x208)](_0x336dc0['zVpcI'],squad_entity_1[_0x115e48(0x23a)],_0x336dc0[_0x115e48(0x244)],_0x336dc0[_0x115e48(0x26a)]),_0x1dc176=_0x1dc176[_0x115e48(0x208)](_0x336dc0[_0x115e48(0x241)],squad_entity_1['Squad'],_0x115e48(0x1fb),_0x336dc0[_0x115e48(0x20e)]);if(_0x4cd684&&(_0x4cd684['id']||_0x336dc0[_0x115e48(0x268)](_0x4cd684[_0x115e48(0x231)],undefined)||_0x336dc0[_0x115e48(0x268)](_0x4cd684[_0x115e48(0x249)],undefined)||_0x336dc0[_0x115e48(0x1be)](_0x4cd684[_0x115e48(0x216)],undefined)||_0x4cd684['status']!==undefined)){const _0x4da8c9=_0x115e48(0x259)[_0x115e48(0x1bf)]('|');let _0x194332=0x0;while(!![]){switch(_0x4da8c9[_0x194332++]){case'0':_0x336dc0[_0x115e48(0x218)](_0x4cd684[_0x115e48(0x216)],undefined)&&(_0x1dc176=_0x1dc176[_0x115e48(0x23c)](_0x336dc0[_0x115e48(0x1b9)],{'acceptSquadId':_0x4cd684['acceptSquadId']}));continue;case'1':_0x336dc0[_0x115e48(0x218)](_0x4cd684[_0x115e48(0x245)],undefined)&&(_0x1dc176=_0x1dc176[_0x115e48(0x23c)](_0x115e48(0x1f3),{'status':_0x4cd684['status']}));continue;case'2':_0x336dc0['RxOpJ'](_0x4cd684[_0x115e48(0x249)],undefined)&&(_0x1dc176=_0x1dc176['andWhere'](_0x336dc0['uXoFy'],{'declareSquadId':_0x4cd684[_0x115e48(0x249)]}));continue;case'3':return yield _0x1dc176['getOne']();case'4':_0x4cd684['id']&&(_0x1dc176=_0x1dc176[_0x115e48(0x23c)](_0x336dc0['xzQZT'],{'id':_0x4cd684['id']}));continue;}break;}}else return undefined;});}[a216_0x3a4c94(0x221)](_0x4503cd){const _0x5499ca=a216_0x3a4c94,_0x433c00={'HnbbX':function(_0x176cf9,_0xf41a26){return _0x176cf9===_0xf41a26;},'ZvaTT':function(_0x166b10,_0x24b316){return _0x166b10===_0x24b316;},'XCTED':_0x5499ca(0x264),'xOICD':function(_0x11c9cc,_0x5f5727){return _0x11c9cc===_0x5f5727;},'DcgcA':function(_0x52f622,_0x6c290e){return _0x52f622===_0x6c290e;},'UuLSs':'processing','DSDSq':function(_0x3e7350,_0x2a0f87){return _0x3e7350>_0x2a0f87;},'LnWad':function(_0x427c17,_0x173f43){return _0x427c17===_0x173f43;},'xGWPx':function(_0x4606e8,_0x4ab07e){return _0x4606e8===_0x4ab07e;},'cYDgs':function(_0x18da19,_0x2f1248){return _0x18da19===_0x2f1248;},'BJXhq':function(_0x131768,_0x122bce){return _0x131768===_0x122bce;},'hKFMQ':function(_0x399fac,_0x92d767){return _0x399fac===_0x92d767;},'ThNMH':function(_0x2fc901,_0x2d91eb,_0x1a6a2f,_0x22b5f2,_0x244d9d){return _0x2fc901(_0x2d91eb,_0x1a6a2f,_0x22b5f2,_0x244d9d);}};var _0x201e9c,_0x37f2fa;return _0x433c00[_0x5499ca(0x1fa)](__awaiter,this,void 0x0,void 0x0,function*(){const _0x3cb5a0=_0x5499ca;let _0x44c027=yield this[_0x3cb5a0(0x206)]({'declareSquadId':_0x4503cd}),_0x1c85c4=yield this[_0x3cb5a0(0x206)]({'acceptSquadId':_0x4503cd});return(_0x433c00[_0x3cb5a0(0x222)](_0x201e9c=_0x433c00[_0x3cb5a0(0x222)](_0x44c027,null)||_0x44c027===void 0x0?void 0x0:_0x44c027['id'],null)||_0x433c00[_0x3cb5a0(0x222)](_0x201e9c,void 0x0)?void 0x0:_0x201e9c[_0x3cb5a0(0x1f2)])>0x0&&(_0x433c00[_0x3cb5a0(0x222)](_0x433c00[_0x3cb5a0(0x261)](_0x44c027,null)||_0x433c00[_0x3cb5a0(0x261)](_0x44c027,void 0x0)?void 0x0:_0x44c027[_0x3cb5a0(0x245)],_0x433c00[_0x3cb5a0(0x1ea)])||_0x433c00[_0x3cb5a0(0x1db)](_0x433c00[_0x3cb5a0(0x270)](_0x44c027,null)||_0x433c00[_0x3cb5a0(0x1db)](_0x44c027,void 0x0)?void 0x0:_0x44c027['status'],_0x433c00[_0x3cb5a0(0x1e4)]))||_0x433c00[_0x3cb5a0(0x248)](_0x433c00[_0x3cb5a0(0x240)](_0x37f2fa=_0x433c00[_0x3cb5a0(0x243)](_0x1c85c4,null)||_0x1c85c4===void 0x0?void 0x0:_0x1c85c4['id'],null)||_0x433c00['cYDgs'](_0x37f2fa,void 0x0)?void 0x0:_0x37f2fa['length'],0x0)&&((_0x1c85c4===null||_0x433c00[_0x3cb5a0(0x1de)](_0x1c85c4,void 0x0)?void 0x0:_0x1c85c4[_0x3cb5a0(0x245)])===_0x433c00['XCTED']||_0x433c00[_0x3cb5a0(0x1e9)](_0x1c85c4===null||_0x433c00[_0x3cb5a0(0x261)](_0x1c85c4,void 0x0)?void 0x0:_0x1c85c4[_0x3cb5a0(0x245)],_0x433c00[_0x3cb5a0(0x1e4)]));});}[a216_0x3a4c94(0x1b8)](_0x56239e){const _0x1bfcd4=a216_0x3a4c94,_0x544da5={'rEoso':_0x1bfcd4(0x25e),'AHaWC':function(_0x388c0c,_0x57539f,_0x2c30e0,_0x1abf33,_0x31144f){return _0x388c0c(_0x57539f,_0x2c30e0,_0x1abf33,_0x31144f);}};return _0x544da5[_0x1bfcd4(0x1ce)](__awaiter,this,void 0x0,void 0x0,function*(){const _0x148e6b=_0x1bfcd4;let _0x1f9cf1=yield this[_0x148e6b(0x1cb)]['createQueryBuilder'](_0x148e6b(0x1cd))['delete']()[_0x148e6b(0x225)](liquidation_entity_1['Liquidation']);return _0x56239e['id']&&(_0x1f9cf1=_0x1f9cf1[_0x148e6b(0x23c)](_0x544da5[_0x148e6b(0x1fd)],{'id':_0x56239e['id']})),yield _0x1f9cf1[_0x148e6b(0x22d)]();});}['checkAndAnnounceLiquidationWillStart'](){const _0x225456=a216_0x3a4c94,_0x394034={'QRCSY':'pending','optaq':_0x225456(0x25b),'xeGBn':_0x225456(0x232),'TKhpA':_0x225456(0x226),'syEhS':'processing'};return __awaiter(this,void 0x0,void 0x0,function*(){const _0xd1c714=_0x225456,_0x448f3f=Date[_0xd1c714(0x25c)](),_0x20a654=yield this['getLiquidationList']((0x0,format_page_query_1[_0xd1c714(0x22c)])({'pageSize':0xf423f,'pageNum':0x1}),{'status':_0x394034[_0xd1c714(0x215)]}),_0x5c42a0=_0x20a654[0x0][_0xd1c714(0x239)](_0x2006a8=>Number(_0x2006a8[_0xd1c714(0x205)])-_0x448f3f<=0x3e8*0x3c*0x3&&_0x2006a8[_0xd1c714(0x1c2)]['announced']!==!![]),_0xdcd4da=yield this['serverConfigService']['getServerConfig']({'name':_0x394034['optaq']}),_0x22889b=_0xdcd4da&&_0xdcd4da['id']?JSON[_0xd1c714(0x257)](_0xdcd4da[_0xd1c714(0x256)])[_0xd1c714(0x256)]:null;for(let _0x1a44c1 of _0x5c42a0){const _0x131d00=_0x1a44c1[_0xd1c714(0x25d)],_0x3afa4d=_0x1a44c1[_0xd1c714(0x1fb)],_0x254b10=(0x0,configs_1['createStartLiquidationNotification'])(_0x131d00[_0xd1c714(0x1c4)],_0x3afa4d[_0xd1c714(0x1c4)],_0x22889b?undefined:'cn'),_0x2e1efc=yield this[_0xd1c714(0x1ca)]['saveQueueItem'](_0x254b10,_0x394034[_0xd1c714(0x271)],_0x394034['TKhpA']),_0x927cd3=_0x1a44c1[_0xd1c714(0x1c2)];_0x927cd3[_0xd1c714(0x273)]=!![];const _0x4a0678=yield this[_0xd1c714(0x1ba)]({'id':_0x1a44c1['id'],'dollarConfigs':_0x927cd3,'status':_0x394034[_0xd1c714(0x23b)]});}});}[a216_0x3a4c94(0x236)](_0x2fb02c,_0x293444){const _0x4d4f78=a216_0x3a4c94,_0x3b4a77={'hprlT':function(_0x4ed985,_0x7e7142,_0x425a09){return _0x4ed985(_0x7e7142,_0x425a09);},'DHbkX':_0x4d4f78(0x20a),'UAqnt':function(_0x4ac8f0,_0x4032fe){return _0x4ac8f0===_0x4032fe;},'drptG':function(_0x302a77,_0xc1427){return _0x302a77===_0xc1427;},'TUXyM':function(_0x1af3e5,_0x239579){return _0x1af3e5===_0x239579;},'Qnfqr':function(_0x47bfcc,_0x3e4329){return _0x47bfcc===_0x3e4329;},'ueGXK':function(_0x49196e,_0x1ead28){return _0x49196e===_0x1ead28;},'sbyal':function(_0x56577c,_0x1f552b){return _0x56577c===_0x1f552b;},'TRjnV':function(_0x2da598,_0x57431d){return _0x2da598(_0x57431d);},'Fzwxa':function(_0xf6cf5e,_0x103ec1){return _0xf6cf5e>=_0x103ec1;},'bkKvM':function(_0x4252ba,_0x5415bf){return _0x4252ba===_0x5415bf;},'ixFvO':function(_0x2ee984,_0x50db82){return _0x2ee984===_0x50db82;},'QwDpA':function(_0x4aa497,_0x3f45e0){return _0x4aa497===_0x3f45e0;},'PSoaF':function(_0x560eab,_0x548759,_0x36aa2f,_0xdc0675,_0x36485c){return _0x560eab(_0x548759,_0x36aa2f,_0xdc0675,_0x36485c);}};return _0x3b4a77[_0x4d4f78(0x214)](__awaiter,this,void 0x0,void 0x0,function*(){const _0x542e50=_0x4d4f78;_0x3b4a77[_0x542e50(0x255)](_0x293444,!![],_0x3b4a77['DHbkX']);const _0x1303ab=Date['now'](),_0xb9b568=yield this['userService'][_0x542e50(0x258)]({'steamId':_0x2fb02c[_0x542e50(0x23d)]}),_0x526a30=yield this[_0x542e50(0x22f)][_0x542e50(0x258)]({'steamId':_0x2fb02c[_0x542e50(0x1f9)]});if(!(_0x3b4a77[_0x542e50(0x211)](_0xb9b568,null)||_0x3b4a77[_0x542e50(0x211)](_0xb9b568,void 0x0)?void 0x0:_0xb9b568['id'])||!(_0x526a30===null||_0x3b4a77[_0x542e50(0x21e)](_0x526a30,void 0x0)?void 0x0:_0x526a30['id']))return;const _0x5750e6=yield this['squadUserService']['getSquadUser']({'userId':_0x3b4a77[_0x542e50(0x247)](_0xb9b568,null)||_0xb9b568===void 0x0?void 0x0:_0xb9b568['id']}),_0x1c073b=yield this['squadUserService'][_0x542e50(0x266)]({'userId':_0x3b4a77['TUXyM'](_0x526a30,null)||_0x3b4a77[_0x542e50(0x21e)](_0x526a30,void 0x0)?void 0x0:_0x526a30['id']});if(!(_0x3b4a77[_0x542e50(0x20c)](_0x5750e6,null)||_0x3b4a77[_0x542e50(0x1cc)](_0x5750e6,void 0x0)?void 0x0:_0x5750e6['id'])||!(_0x3b4a77[_0x542e50(0x253)](_0x1c073b,null)||_0x3b4a77['UAqnt'](_0x1c073b,void 0x0)?void 0x0:_0x1c073b['id']))return;const _0x30c4b0=yield this['ifSquadInLiquidation'](_0x5750e6['squadId']),_0x23f825=yield this['ifSquadInLiquidation'](_0x1c073b[_0x542e50(0x24e)]);if(!(_0x30c4b0&&_0x23f825))return;const _0x5533c4=(yield this[_0x542e50(0x206)]({'declareSquadId':_0x5750e6['squadId']}))||(yield this[_0x542e50(0x206)]({'acceptSquadId':_0x5750e6[_0x542e50(0x24e)]}));if(_0x3b4a77[_0x542e50(0x24b)](Number,_0x5533c4[_0x542e50(0x205)])<=_0x1303ab&&_0x3b4a77[_0x542e50(0x1fc)](Number(_0x5533c4[_0x542e50(0x269)]),_0x1303ab))yield this[_0x542e50(0x202)]['saveLiquidationKill'](_0x5533c4===null||_0x3b4a77['bkKvM'](_0x5533c4,void 0x0)?void 0x0:_0x5533c4['id'],_0xb9b568===null||_0x3b4a77[_0x542e50(0x26e)](_0xb9b568,void 0x0)?void 0x0:_0xb9b568['id'],_0x3b4a77[_0x542e50(0x21e)](_0x526a30,null)||_0x3b4a77[_0x542e50(0x21b)](_0x526a30,void 0x0)?void 0x0:_0x526a30['id'],_0x2fb02c[_0x542e50(0x1e1)],_0x3b4a77[_0x542e50(0x20c)](_0x5750e6,null)||_0x3b4a77[_0x542e50(0x26e)](_0x5750e6,void 0x0)?void 0x0:_0x5750e6['id']);else return;});}};LiquidationService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1[a216_0x3a4c94(0x219)])(liquidation_entity_1[a216_0x3a4c94(0x1d2)])),__metadata('design:paramtypes',[typeorm_2['Repository'],user_service_1['UserService'],queue_service_1[a216_0x3a4c94(0x251)],server_config_service_1[a216_0x3a4c94(0x1c6)],squad_user_service_1[a216_0x3a4c94(0x227)],liquidation_kill_service_1[a216_0x3a4c94(0x1cf)]])],LiquidationService),exports[a216_0x3a4c94(0x1c1)]=LiquidationService;function a216_0x232b(){const _0xeca84b=['BgLXDwLKyxrPB24UywnJzxb0u3f1ywrjzca9idPHy2nLChrtCxvHzeLK','tgLXDwLKyxrPB25tzxj2AwnL','zg9SBgfYq29UzMLNCW','BgLXDwLKyxrPB24UzgvJBgfYzvnXDwfK','BMfTzq','BgLXDwLKyxrPB24UywnJzxb0u3f1ywrjzca9igfJy2vWDfnXDwfKlMLK','u2vYDMvYq29UzMLNu2vYDMLJzq','y3jLyxrLuxvLCNLcDwLSzgvY','BgLXDwLKyxrPB24Uy3jLyxrLzfrPBwvtDgfTCca8psa6DgLTzxn0yw1Wrw5K','zevozNm','CxvLDwvtzxj2AwnL','BgLXDwLKyxrPB25szxbVC2L0B3j5','DwvhweS','BgLXDwLKyxrPB24','quHHv0m','tgLXDwLKyxrPB25lAwXSu2vYDMLJzq','wwrqtvu','lI4VCxvLDwuVCxvLDwuUC2vYDMLJzq','tgLXDwLKyxrPB24','C2vYDMvYq29UzMLNu2vYDMLJzq','BgLXDwLKyxrPB24UzgvJBgfYzvnXDwfKswqGpsa6zgvJBgfYzvnXDwfKswq','C3f1ywrvC2vYu2vYDMLJzq','vLbUCvO','ywnJzxb0u3f1ywroyw1L','DhLWzw9YBq','wLDuCe4','mJK2otbrB1Dvswm','Ee9jq0q','Ae1Pu1K','lI4VC2vYDMvYlwnVBMzPzY9Zzxj2zxiTy29UzMLNlNnLCNzPy2u','qKPyAhe','qwzwzLC','z09sBeW','B2nJDxjLzfrPBwvtDgfTCa','B3jKzxjcEq','Cxvgs28','vxvmu3m','lI4VDxnLCI91C2vYlNnLCNzPy2u','C01pBem','BeXsBfi','lI4VC3f1ywqVC3f1ywqTDxnLCI5Zzxj2AwnL','AeTgtve','wenuruq','C2TPCa','mJrhDujOvLK','wvjtEgq','A3fczKO','mZa2nunKDgjfEa','lI4VlI4Vzw50Axr5l2XPCxvPzgf0Aw9UlMvUDgL0Eq','x19WyxjHBq','BgvUz3rO','BgLXDwLKyxrPB24UC3rHDhvZid0GoNn0yxr1CW','BgLXDwLKyxrPB24Uy3jLyxrLzfrPBwvtDgfTCca+psa6DgLTzxn0yw1Wu3rHCNq','DgLTzxn0yw1Wrw5K','B2jQzwn0','zwndqMe','BMv4Da','DMLJDgLTu3rLyw1jza','vgHotuG','ywnJzxb0u3f1ywq','rNP3Ege','CKvVC28','zgvJB3jHDgu','t1Dwtee','BgLXDwLKyxrPB24UzgvJBgfYzvnXDwfKswqGpsbKzwnSyxjLu3f1ywqUAwq','CgfNzu51Bq','BgLXDwLKyxrPB25lAwXSu2vYDMLJzq','z2v0twfUEufUzenVDw50','BgLXDwLKyxrPB24UC3rHDhvZigLZidPZDgf0Dxm','C3rHCNruAw1Lu3rHBxa','z2v0tgLXDwLKyxrPB24','v1jSBxy','BgvMDePVAw5bBMrnyxbpBMu','C2z6vvm','5Qoa5Rwl5PIV5zcM5PYj5A+55BQu55Qe5AsN5RIf566x5l+H5OgV','EhfrrMy','uw5MCxi','mJa0otvgwNrir2i','rNjTr0S','x19LC01VzhvSzq','yuHJDNG','vufXBNq','mte1ofLAvNbWra','v21Wrwi','ufnVyuy','uvjdu1K','ywnJzxb0u3f1ywrjza','DgfRzq','zNrwEe0','sw5Qzwn0uMvWB3nPDg9YEq','DgLTzxn0yw1Wu3rHCNq','uxDeCee','u215zhy','x19KzwnVCMf0zq','zhjWDeC','zgvJBgfYzvnXDwfKtMfTzq','yu15z1G','AwztCxvHzeLUtgLXDwLKyxrPB24','sg5IyLG','BgLXDwLKyxrPB24UywnJzxb0u3f1ywq','C2v0','zNjVBq','y3jLyxrLza','u3f1ywrvC2vYu2vYDMLJzq','BgLXDwLKyxrPB24Uy3jLyxrLzfrPBwvtDgfTCa','wgPhz04','svDdrLO','BgLXDwLKyxrPB24UywnJzxb0u3f1ywrjzcbSAwTLidPHy2nLChrtCxvHzeLK','zM9YBwf0ugfNzvf1zxj5','zxHLy3v0zq','wvfjD0K','DxnLCLnLCNzPy2u','zgvMAw5LuhjVCgvYDhK','BgLXDwLKyxrPB25lAwXS','BgLXDwLKyxrPB25nC2C','t1vKweW','mta2mLfPzwTyrW','nxWXFdb8nhWZFdi','y2HLy2TbBMrtyxzLs2LSBeXVzW','z2v0tgLXDwLKyxrPB25mAxn0','A1LJvee','zMLSDgvY','u3f1ywq','C3LfAfm','yw5Kv2HLCMu','A2LSBgvYu3rLyw1jza','zgvJBgfYzvnXDwfKlM5HBwuGBgLRzsa6zgvJBgfYzvnXDwfKtMfTzq','zw5YENm','tg5xywq','Agjdzxu','mZK5nJK3nNz3EMHmBq','EeDxuhG','Au9rr0W','C3rHDhvZ','C2f2zq','vfvyEu0','rfneu3e','zgvJBgfYzvnXDwfKswq','rMvryvO','vfjQBLy','mJy2mZi5n0fTu2HKyG','CffkA1C','C3f1ywrjza','t3DfCwq','yxbWBhK','uxvLDwvtzxj2AwnL','mti2otK3odzTy1nVDfu','C2j5ywW','revtqW','AhbYBfq','DMfSDwu','CgfYC2u','z2v0vxnLCG','nhWYFdb8mxWZ','lI4VlI4VDxrPBhmVy29UzMLNCW','rw5HyMXLrw5NBgLZAff1zxvL','BM93','zgvJBgfYzvnXDwfK','AwqGpsa6Awq','ugPxAue','lI4VlI4Vy29TBw9Ul2zVCM1HDc1WywDLlxf1zxj5','wNzHvfq','qNHArey','mZmYmdm2vur0B0Le','CgvUzgLUzW','zNvUy3rPB24','z2v0u3f1ywrvC2vY','zwzYEee','Cg5rrMK','zw5KvgLTzvn0yw1W','qLPPre8','yxL5ufq','z2v0tgLXDwLKyxrPB25mAxn0tgLRzq','C2Lvs0m','AxHgDK8','BgLXDwLKyxrPB24UAwqGpsa6Awq','rgnNy0e','EgvhqM4','CgfNzvnPEMu','yw5UB3vUy2vK','rvnjrKO','qvnd','qg5LC3rQCY90ExbLB3jT','DgHYB3C','lI9SAxf1AwrHDgLVBI1RAwXSlNnLCNzPy2u','zgvSzxrLtgLXDwLKyxrPB24','zMLhuKO','DxbKyxrLtgLXDwLKyxrPB24','C1n5Dxm','mZbyqun4DgS','B29cuNC','qKvvz3O','C3bSAxq'];a216_0x232b=function(){return _0xeca84b;};return a216_0x232b();}