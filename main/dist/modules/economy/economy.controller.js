'use strict';function a186_0x51f4(){const _0x273e4a=['tgLZDfrVCe5vC2vYtLbduhvYy2HHC2u','BgLZDfrVCe5vC2vYtLbdu2vSBa','mtCXmJu5ELPtqMzM','ntC5CwHwEMDp','mtzdzKv2B2m','CMvZCg9UC2vcDwLSzgvY','zgvZAwDUoNjLDhvYBNr5Cgu','BLLSr3C','sfLpBeq','ANnVBG','uMvZCg9UC2vtDgf0DxndB2rL','ruHeyMG','ntG4mtG1nuDxDM1Wuq','zwnVBM9TEvvZzxjFDxnLCK5HBwu','vMvMCNO','zwnVBM9TEvnLCNzPy2u','y291BNruB3bovxnLCK5qq1nLBgW','y29UDgvUDa','r2DizLe','ndi5mZiWme16vNLPvq','CMvJzw50','zgvZAwDUoNbHCMfTDhLWzxm','mZKZmtzJD2fgsvy','qg5LC3rQCY9JB21TB24','lI9Ly29UB215lNnLCNzPy2u','Dg90ywW','rwnVBM9TEunVBNrYB2XSzxi','zfLbswS','x19LC01VzhvSzq','odKWntCXmdbbAwnVuva','zhbPu2G','x19KzwnVCMf0zq','uxvLCNK','BgLZDfrVCe5vC2vYtLbduhvYy2HHC2u','l2XPC3ruB3bovxnLCK5qq1nLBgW','DgHLBG','y291BNruB3bovxnLCK5qq1b1CMnOyxnL','C2v0rgL5q2fJAgu','zgvMAw5LuhjVCgvYDhK','BMv4Da','s1fiquW','AuTwsg0','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','tgLZDfrVCe5vC2vYtLbdu2vSBa','mteZntu2ntfSq25luKq','ugvmDMu','q29UDhjVBgXLCG','BgvUz3rO','z2v0rgL5q2fJAgu','Bwv0ywrHDge','ChjVDg90ExbL','r2v0','sxvAueG','mtqZreHRz2fn','wxLIBKC','Dg9tDhjPBMC','zgvZAwDUoNr5Cgu','lI4VlI4Vy29TBw9Ul2nHy2HLuMvKAxntDg9Yzq','DMfSDwu','zNvUy3rPB24','zerHA3u','uMvZ','r0vul2XPC3ruB3bovxnLCK5qq1nLBgWT','DgHYB3C','BgfNEeu','rwnVBM9TEvnLCNzPy2u','l2XPC3ruB3bovxnLCK5qq1b1CMnOyxnL','mtqZnJG3mhnkuujruq','svrlrg4','sMvqqKO','z2v0tgfZDevJB25VBxK','r0vul2XPC3ruB3bovxnLCK5qq1b1CMnOyxnLlq','x19HD2fPDgvY','ohLOuNHzra','y3jLyxrLzfrPBwvtDgfTCa','tfD2wfi','yxbWBhK','B2jQzwn0','mtjWre9uC28','zgvJB3jHDgu','Cg5psvO','BwfW','l2vJB25VBxK','rgTjAhC'];a186_0x51f4=function(){return _0x273e4a;};return a186_0x51f4();}function a186_0x5552(_0x357b8c,_0x5a19f2){const _0x51f4be=a186_0x51f4();return a186_0x5552=function(_0x555231,_0x5ddf2b){_0x555231=_0x555231-0x80;let _0x1070e3=_0x51f4be[_0x555231];if(a186_0x5552['CTdHEy']===undefined){var _0x51e1f7=function(_0x4c782b){const _0x5cbf0a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2fd775='',_0x25c77e='';for(let _0x1b32f9=0x0,_0x59eccf,_0x39853c,_0x57958a=0x0;_0x39853c=_0x4c782b['charAt'](_0x57958a++);~_0x39853c&&(_0x59eccf=_0x1b32f9%0x4?_0x59eccf*0x40+_0x39853c:_0x39853c,_0x1b32f9++%0x4)?_0x2fd775+=String['fromCharCode'](0xff&_0x59eccf>>(-0x2*_0x1b32f9&0x6)):0x0){_0x39853c=_0x5cbf0a['indexOf'](_0x39853c);}for(let _0x54142e=0x0,_0x287abe=_0x2fd775['length'];_0x54142e<_0x287abe;_0x54142e++){_0x25c77e+='%'+('00'+_0x2fd775['charCodeAt'](_0x54142e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x25c77e);};a186_0x5552['VnLaGL']=_0x51e1f7,_0x357b8c=arguments,a186_0x5552['CTdHEy']=!![];}const _0x394c37=_0x51f4be[0x0],_0x29ba18=_0x555231+_0x394c37,_0x195d9d=_0x357b8c[_0x29ba18];return!_0x195d9d?(_0x1070e3=a186_0x5552['VnLaGL'](_0x1070e3),_0x357b8c[_0x29ba18]=_0x1070e3):_0x1070e3=_0x195d9d,_0x1070e3;},a186_0x5552(_0x357b8c,_0x5a19f2);}const a186_0x1801c0=a186_0x5552;(function(_0x41cffc,_0x2fd0a3){const _0x341b69=a186_0x5552,_0x54edc4=_0x41cffc();while(!![]){try{const _0x50e5cc=-parseInt(_0x341b69(0x96))/0x1*(parseInt(_0x341b69(0x98))/0x2)+-parseInt(_0x341b69(0x97))/0x3*(parseInt(_0x341b69(0xaa))/0x4)+-parseInt(_0x341b69(0xa7))/0x5*(parseInt(_0x341b69(0x8e))/0x6)+-parseInt(_0x341b69(0xa0))/0x7+-parseInt(_0x341b69(0x89))/0x8*(-parseInt(_0x341b69(0xc0))/0x9)+-parseInt(_0x341b69(0x83))/0xa*(parseInt(_0x341b69(0xc9))/0xb)+parseInt(_0x341b69(0xb1))/0xc;if(_0x50e5cc===_0x2fd0a3)break;else _0x54edc4['push'](_0x54edc4['shift']());}catch(_0x4b58b0){_0x54edc4['push'](_0x54edc4['shift']());}}}(a186_0x51f4,0xf1d9b));var __decorate=this&&this[a186_0x1801c0(0xb3)]||function(_0x26a898,_0x4da76b,_0x409721,_0x179421){const _0x2983d4=a186_0x1801c0,_0x4f4ba8={'dDaku':function(_0x2a9086,_0x187eec){return _0x2a9086===_0x187eec;},'pnOIZ':function(_0x1d1aec,_0x4e8d4c){return _0x1d1aec===_0x4e8d4c;},'MEJoy':_0x2983d4(0x8d),'GgHfQ':function(_0x4b3678,_0x265e4b){return _0x4b3678<_0x265e4b;},'QFhxe':function(_0x5612f2,_0x31b759){return _0x5612f2(_0x31b759);},'ITKDn':function(_0x5a3ff6,_0x2282d6,_0xf13229,_0x47db94){return _0x5a3ff6(_0x2282d6,_0xf13229,_0x47db94);},'UTMhx':function(_0x4c9d3c,_0x30106f){return _0x4c9d3c>_0x30106f;}};var _0x1895b7=arguments[_0x2983d4(0xc3)],_0x3f083f=_0x1895b7<0x3?_0x4da76b:_0x4f4ba8[_0x2983d4(0xd0)](_0x179421,null)?_0x179421=Object[_0x2983d4(0xbe)](_0x4da76b,_0x409721):_0x179421,_0x3285d3;if(_0x4f4ba8[_0x2983d4(0x90)](typeof Reflect,_0x4f4ba8['MEJoy'])&&typeof Reflect[_0x2983d4(0x8f)]===_0x2983d4(0xcf))_0x3f083f=Reflect[_0x2983d4(0x8f)](_0x26a898,_0x4da76b,_0x409721,_0x179421);else{for(var _0x43aebe=_0x26a898['length']-0x1;_0x43aebe>=0x0;_0x43aebe--)if(_0x3285d3=_0x26a898[_0x43aebe])_0x3f083f=(_0x4f4ba8[_0x2983d4(0xa6)](_0x1895b7,0x3)?_0x4f4ba8['QFhxe'](_0x3285d3,_0x3f083f):_0x1895b7>0x3?_0x4f4ba8[_0x2983d4(0x84)](_0x3285d3,_0x4da76b,_0x409721,_0x3f083f):_0x3285d3(_0x4da76b,_0x409721))||_0x3f083f;}return _0x4f4ba8['UTMhx'](_0x1895b7,0x3)&&_0x3f083f&&Object[_0x2983d4(0xba)](_0x4da76b,_0x409721,_0x3f083f),_0x3f083f;},__metadata=this&&this['__metadata']||function(_0x324879,_0xc65bb7){const _0x275ccc=a186_0x1801c0,_0x4b39a9={'OvWUC':function(_0x28f6f4,_0x41f268){return _0x28f6f4===_0x41f268;},'dYAIk':'object','IuZPH':function(_0x67a904,_0x24f8f6){return _0x67a904===_0x24f8f6;}};if(_0x4b39a9['OvWUC'](typeof Reflect,_0x4b39a9[_0x275ccc(0xaf)])&&_0x4b39a9[_0x275ccc(0xc8)](typeof Reflect[_0x275ccc(0xc5)],_0x275ccc(0xcf)))return Reflect[_0x275ccc(0xc5)](_0x324879,_0xc65bb7);},__param=this&&this['__param']||function(_0x39fe22,_0x32ffa){const _0x3ba72b={'iKVHm':function(_0x197167,_0x5da0a9,_0xc9ff0b,_0xa2c663){return _0x197167(_0x5da0a9,_0xc9ff0b,_0xa2c663);}};return function(_0x528589,_0x29f9c9){const _0x414672=a186_0x5552;_0x3ba72b[_0x414672(0xbd)](_0x32ffa,_0x528589,_0x29f9c9,_0x39fe22);};},__awaiter=this&&this[a186_0x1801c0(0x88)]||function(_0x520d28,_0x5621b9,_0x358bd8,_0x24a453){const _0x1bd1d3={'HYOlD':function(_0x495307,_0x192ad1){return _0x495307 instanceof _0x192ad1;},'YybnG':function(_0x23c14b,_0x49e6c6){return _0x23c14b(_0x49e6c6);},'CtZyj':function(_0x4b1264,_0x4a3704){return _0x4b1264(_0x4a3704);}};function _0x54d26b(_0x2eddc3){const _0x124fda=a186_0x5552;return _0x1bd1d3[_0x124fda(0x9c)](_0x2eddc3,_0x358bd8)?_0x2eddc3:new _0x358bd8(function(_0x219938){_0x219938(_0x2eddc3);});}return new(_0x358bd8||(_0x358bd8=Promise))(function(_0x3004a1,_0x1e9394){const _0x4d8b5e=a186_0x5552,_0x344182={'LWvXR':function(_0x159101,_0xe697f2){const _0x19bc57=a186_0x5552;return _0x1bd1d3[_0x19bc57(0xca)](_0x159101,_0xe697f2);},'JePBJ':_0x4d8b5e(0xd3)};function _0x3c2189(_0x1c9d92){const _0x48ab3e=_0x4d8b5e;try{_0x344182[_0x48ab3e(0x8b)](_0x41d071,_0x24a453[_0x48ab3e(0xbb)](_0x1c9d92));}catch(_0x28c14c){_0x344182[_0x48ab3e(0x8b)](_0x1e9394,_0x28c14c);}}function _0x58d81d(_0x47165e){const _0x305104=_0x4d8b5e;try{_0x41d071(_0x24a453[_0x344182[_0x305104(0x85)]](_0x47165e));}catch(_0x4895ec){_0x344182[_0x305104(0x8b)](_0x1e9394,_0x4895ec);}}function _0x41d071(_0xd4d866){const _0x1d72d9=_0x4d8b5e;_0xd4d866['done']?_0x344182['LWvXR'](_0x3004a1,_0xd4d866[_0x1d72d9(0xce)]):_0x54d26b(_0xd4d866[_0x1d72d9(0xce)])[_0x1d72d9(0xb7)](_0x3c2189,_0x58d81d);}_0x1bd1d3['CtZyj'](_0x41d071,(_0x24a453=_0x24a453[_0x4d8b5e(0x8c)](_0x520d28,_0x5621b9||[]))[_0x4d8b5e(0xbb)]());});};Object['defineProperty'](exports,a186_0x1801c0(0xb0),{'value':!![]}),exports['EconomyController']=void 0x0;const common_1=require(a186_0x1801c0(0xab)),economy_1=require('../../dto/economy'),response_builder_1=require('../../common/response-builder'),economy_service_1=require(a186_0x1801c0(0xac)),morgan_log_1=require('../../common/morgan-log'),cacheRedisStore_1=require(a186_0x1801c0(0xcd));let EconomyController=class EconomyController{constructor(_0x2a1244){const _0x3f75f7=a186_0x1801c0;this[_0x3f75f7(0xa3)]=_0x2a1244;}[a186_0x1801c0(0xb5)](_0x108cd1,_0x263c75){const _0x38281a=a186_0x1801c0,_0xef7446={'Vefrz':function(_0x44f7b3,_0x4ee716){return _0x44f7b3===_0x4ee716;},'JzSJI':function(_0x517594,_0x4f3756){return _0x517594<=_0x4f3756;},'dpiSh':function(_0x159e69,_0x3f02dc){return _0x159e69*_0x3f02dc;},'EHDbh':function(_0x4bbba4,_0x320ff3){return _0x4bbba4===_0x320ff3;},'DkIhw':function(_0x47d0cb,_0x14809,_0x4b5b4e,_0x4831a9,_0x149961){return _0x47d0cb(_0x14809,_0x4b5b4e,_0x4831a9,_0x149961);}};return _0xef7446[_0x38281a(0x93)](__awaiter,this,void 0x0,void 0x0,function*(){const _0x27616e=_0x38281a;try{const _0x951e81=yield(0x0,cacheRedisStore_1[_0x27616e(0xc4)])(_0x27616e(0x87)+(_0x108cd1['recent']&&_0x108cd1[_0x27616e(0xa8)]<=0x14?_0x108cd1[_0x27616e(0xa8)]:0x14),!![]);if(_0x951e81!==null)return _0x263c75[_0x27616e(0x9d)]((0x0,response_builder_1['responseBuilder'])(response_builder_1[_0x27616e(0x9e)]['OK'],_0x951e81===null||_0xef7446[_0x27616e(0xa2)](_0x951e81,void 0x0)?void 0x0:_0x951e81[_0x27616e(0xa5)]));let _0xdada94=yield this[_0x27616e(0xa3)][_0x27616e(0xb8)](_0x108cd1[_0x27616e(0xa8)]&&_0x108cd1[_0x27616e(0xa8)]<=0x14?_0x108cd1[_0x27616e(0xa8)]:0x14);_0xdada94=_0xdada94[_0x27616e(0x91)](_0x16f00d=>{const _0x34b166=_0x27616e;return{'userName':_0x16f00d[_0x34b166(0xa1)],'total':_0x16f00d[_0x34b166(0xad)]};});let _0x2c15d8=yield this[_0x27616e(0xa3)][_0x27616e(0x86)]();return yield(0x0,cacheRedisStore_1[_0x27616e(0xb9)])(_0x27616e(0x87)+(_0x108cd1[_0x27616e(0xa8)]&&_0xef7446['JzSJI'](_0x108cd1[_0x27616e(0xa8)],0x14)?_0x108cd1[_0x27616e(0xa8)]:0x14),{'content':{'statsFrom':_0xef7446[_0x27616e(0xa2)](_0x2c15d8,null)||_0xef7446['Vefrz'](_0x2c15d8,void 0x0)?void 0x0:_0x2c15d8[_0x27616e(0x8a)],'result':_0xdada94}},_0xef7446[_0x27616e(0xb2)](0x3c,0xf),!![]),_0x263c75[_0x27616e(0x9d)]((0x0,response_builder_1[_0x27616e(0x99)])(response_builder_1[_0x27616e(0x9e)]['OK'],{'statsFrom':_0xef7446[_0x27616e(0xa2)](_0x2c15d8,null)||_0xef7446[_0x27616e(0x9f)](_0x2c15d8,void 0x0)?void 0x0:_0x2c15d8[_0x27616e(0x8a)],'result':_0xdada94}));}catch(_0x522b00){return(0x0,morgan_log_1['logBussiness'])(_0x522b00),_0x263c75[_0x27616e(0x9d)]((0x0,response_builder_1[_0x27616e(0x99)])(response_builder_1[_0x27616e(0x9e)]['OK'],{},_0x522b00['toString']()));}});}[a186_0x1801c0(0x95)](_0x55d7ae,_0x545132){const _0x3688e5={'PeLve':function(_0x39376b,_0x2d16ba){return _0x39376b<=_0x2d16ba;},'KQHAL':function(_0x32f456,_0x107948){return _0x32f456!==_0x107948;},'KfHAv':function(_0x4c3533,_0x427e73){return _0x4c3533===_0x427e73;},'lagxE':function(_0x3d93c8,_0x3bf59f){return _0x3d93c8===_0x3bf59f;},'nYlGw':function(_0x2ea5e9,_0x45b93b){return _0x2ea5e9<=_0x45b93b;}};return __awaiter(this,void 0x0,void 0x0,function*(){const _0x246afa=a186_0x5552;try{const _0x4fee0d=yield(0x0,cacheRedisStore_1['getDiyCache'])('GET/listTopNUserNPCSell-'+(_0x55d7ae['recent']&&_0x3688e5['PeLve'](_0x55d7ae[_0x246afa(0xa8)],0x14)?_0x55d7ae[_0x246afa(0xa8)]:0x14),!![]);if(_0x3688e5[_0x246afa(0xbc)](_0x4fee0d,null))return _0x545132['json']((0x0,response_builder_1['responseBuilder'])(response_builder_1[_0x246afa(0x9e)]['OK'],_0x3688e5['KfHAv'](_0x4fee0d,null)||_0x3688e5[_0x246afa(0x80)](_0x4fee0d,void 0x0)?void 0x0:_0x4fee0d[_0x246afa(0xa5)]));let _0x319f2a=yield this[_0x246afa(0xa3)][_0x246afa(0xa4)](_0x55d7ae[_0x246afa(0xa8)]&&_0x3688e5[_0x246afa(0xc1)](_0x55d7ae[_0x246afa(0xa8)],0x14)?_0x55d7ae[_0x246afa(0xa8)]:0x14);_0x319f2a=_0x319f2a[_0x246afa(0x91)](_0x2661a6=>{const _0x1a2b06=_0x246afa;return{'userName':_0x2661a6['economyUser_userName'],'total':_0x2661a6[_0x1a2b06(0xad)]};});let _0xf2a8fc=yield this[_0x246afa(0xa3)]['getLastEconomy']();return yield(0x0,cacheRedisStore_1[_0x246afa(0xb9)])(_0x246afa(0xd2)+(_0x55d7ae[_0x246afa(0xa8)]&&_0x3688e5[_0x246afa(0x9b)](_0x55d7ae[_0x246afa(0xa8)],0x14)?_0x55d7ae[_0x246afa(0xa8)]:0x14),{'content':{'statsFrom':_0xf2a8fc===null||_0x3688e5[_0x246afa(0x80)](_0xf2a8fc,void 0x0)?void 0x0:_0xf2a8fc[_0x246afa(0x8a)],'result':_0x319f2a}},0x3c*0xf,!![]),_0x545132[_0x246afa(0x9d)]((0x0,response_builder_1[_0x246afa(0x99)])(response_builder_1[_0x246afa(0x9e)]['OK'],{'statsFrom':_0xf2a8fc===null||_0xf2a8fc===void 0x0?void 0x0:_0xf2a8fc[_0x246afa(0x8a)],'result':_0x319f2a}));}catch(_0x1b4aef){return(0x0,morgan_log_1['logBussiness'])(_0x1b4aef),_0x545132[_0x246afa(0x9d)]((0x0,response_builder_1[_0x246afa(0x99)])(response_builder_1['ResponseStatusCode']['OK'],{},_0x1b4aef[_0x246afa(0xcb)]()));}});}};__decorate([(0x0,common_1['Get'])(a186_0x1801c0(0x82)),__param(0x0,(0x0,common_1[a186_0x1801c0(0xb4)])()),__param(0x1,(0x0,common_1[a186_0x1801c0(0xd1)])()),__metadata(a186_0x1801c0(0xcc),Function),__metadata(a186_0x1801c0(0xa9),[economy_1[a186_0x1801c0(0x94)],Object]),__metadata(a186_0x1801c0(0x9a),Promise)],EconomyController[a186_0x1801c0(0xc6)],a186_0x1801c0(0xb5),null),__decorate([(0x0,common_1[a186_0x1801c0(0xc7)])(a186_0x1801c0(0xb6)),__param(0x0,(0x0,common_1['Query'])()),__param(0x1,(0x0,common_1['Res'])()),__metadata('design:type',Function),__metadata(a186_0x1801c0(0xa9),[economy_1[a186_0x1801c0(0xbf)],Object]),__metadata(a186_0x1801c0(0x9a),Promise)],EconomyController[a186_0x1801c0(0xc6)],a186_0x1801c0(0x95),null),EconomyController=__decorate([(0x0,common_1[a186_0x1801c0(0xc2)])(a186_0x1801c0(0x92)),__metadata(a186_0x1801c0(0xa9),[economy_service_1[a186_0x1801c0(0x81)]])],EconomyController),exports[a186_0x1801c0(0xae)]=EconomyController;